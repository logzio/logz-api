---
id: update-settings
title: "Update archive settings"
description: "Updates the archiving settings for a time-based log account. (The API token identifies the account.)"
sidebar_label: "Update archive settings"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "put api-method"
info_path: docs/logz/logz-io-api
custom_edit_url: null
---

import ApiTabs from "@theme/ApiTabs";
import DiscriminatorTabs from "@theme/DiscriminatorTabs";
import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import SecuritySchemes from "@theme/ApiExplorer/SecuritySchemes";
import MimeTabs from "@theme/MimeTabs";
import ParamsItem from "@theme/ParamsItem";
import ResponseSamples from "@theme/ResponseSamples";
import SchemaItem from "@theme/SchemaItem";
import SchemaTabs from "@theme/SchemaTabs";
import TabItem from "@theme/TabItem";

<h1 className={"openapi__heading"}>Update archive settings</h1>

<MethodEndpoint method={"put"} path={"v2/archive/settings/{id}"}></MethodEndpoint>



Updates the archiving settings for a time-based log account. (The API token identifies the account.)

You can use this endpoint to:
* Switch archive settings between AWS and Azure Blob Storage or vice versa.
* Update credentials.
* Switch your AWS authentication method between credential keys and IAM roles.

Note that only one archive can be active per account.

## Request

<details style={{"marginBottom":"1rem"}} className={"openapi-markdown__details"} data-collapsed={false} open={true}><summary style={{}}><h3 className={"openapi-markdown__details-summary-header-params"}>Path Parameters</h3></summary><div><ul><ParamsItem className={"paramsItem"} param={{"name":"id","in":"path","required":true,"description":"ID of the archive settings.","schema":{"type":"integer","format":"int32"}}}></ParamsItem></ul></div></details><MimeTabs className={"openapi-tabs__mime"}><TabItem label={"application/json"} value={"application/json-schema"}><details style={{}} className={"openapi-markdown__details mime"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-mime"}><h3 className={"openapi-markdown__details-summary-header-body"}>Body</h3></summary><div style={{"textAlign":"left","marginLeft":"1rem"}}></div><ul style={{"marginLeft":"1rem"}}><SchemaItem collapsible={false} name={"storageType"} required={true} schemaName={"string"} qualifierMessage={"**Possible values:** [`S3`, `BLOB`]"} schema={{"type":"string","enum":["S3","BLOB"],"description":"Specifies the storage provider. If `S3`, the   `amazonS3StorageSettings` are relevant. If `BLOB`, the `azureBlobStorageSettings` are relevant.","example":"S3"}}></SchemaItem><SchemaItem collapsible={false} name={"enabled"} required={false} schemaName={"boolean"} qualifierMessage={undefined} schema={{"type":"boolean","description":"If `true`, archiving is currently enabled.","default":true,"example":true}}></SchemaItem><SchemaItem collapsible={false} name={"compressed"} required={false} schemaName={"boolean"} qualifierMessage={undefined} schema={{"type":"boolean","description":"If `true`, logs are compressed before they are archived.","default":true,"example":true}}></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>amazonS3StorageSettings</strong><span className={"openapi-schema__name"}> object</span></span></summary><div style={{"marginLeft":"1rem"}}><div style={{"marginTop":".5rem","marginBottom":".5rem"}}>

Applicable settings when the `storageType` is `S3`.

</div><SchemaItem collapsible={false} name={"credentialsType"} required={true} schemaName={"string"} qualifierMessage={"**Possible values:** [`IAM`, `KEYS`]"} schema={{"description":"Specifies which credentials will be used for authentication. The options are either `KEYS` with `s3SecretCredentials`, or `IAM` with `s3IamCredentials`.","type":"string","enum":["IAM","KEYS"]}}></SchemaItem><SchemaItem collapsible={false} name={"path"} required={true} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"Specify a path to the **root** of the S3 bucket. (Currently, archiving to a sub-bucket is supported, but not restoring from one.)\n**Unique buckets** - It is important to archive each account/sub-account to a separate S3 bucket."}}></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>s3SecretCredentials</strong><span className={"openapi-schema__name"}> object</span></span></summary><div style={{"marginLeft":"1rem"}}><div style={{"marginTop":".5rem","marginBottom":".5rem"}}>

Authentication with S3 Secret Credentials is supported for backward compatibility. IAM roles are strongly recommended.

</div><SchemaItem collapsible={false} name={"accessKey"} required={true} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string"}}></SchemaItem><SchemaItem collapsible={false} name={"secretKey"} required={true} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string"}}></SchemaItem></div></details></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>s3IamCredentials</strong><span className={"openapi-schema__name"}> object</span></span></summary><div style={{"marginLeft":"1rem"}}><SchemaItem collapsible={false} name={"arn"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"Amazon Resource Name (ARN) to uniquely identify the S3 bucket."}}></SchemaItem></div></details></SchemaItem></div></details></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>azureBlobStorageSettings</strong><span className={"openapi-schema__name"}> object</span></span></summary><div style={{"marginLeft":"1rem"}}><div style={{"marginTop":".5rem","marginBottom":".5rem"}}>

Applicable settings when the `storageType` is `Blob`.

</div><SchemaItem collapsible={false} name={"tenantId"} required={true} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"Azure Directory (tenant) ID. The Tenant ID of the AD app. Go to Azure Active Directory > App registrations and select the app to see it."}}></SchemaItem><SchemaItem collapsible={false} name={"clientId"} required={true} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"Azure application (client) ID. The Client ID of the AD app, found under the App Overview page. Go to Azure Active Directory > App registrations and select the app to see it."}}></SchemaItem><SchemaItem collapsible={false} name={"clientSecret"} required={true} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"Azure client secret. Password of the Client secret, found in the app's Certificates & secrets page. Go to Azure Active Directory > App registrations and select the app. Then select Certificates & secrets to see it."}}></SchemaItem><SchemaItem collapsible={false} name={"accountName"} required={true} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"Azure Storage account name. Name of the storage account that holds the container where the logs will be archived."}}></SchemaItem><SchemaItem collapsible={false} name={"containerName"} required={true} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"Name of the container in the Storage account. This is where the logs will be archived."}}></SchemaItem><SchemaItem collapsible={false} name={"path"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","nullable":true,"description":"Optional virtual sub-folder specifiying a path within the container. Logs will be archived under the path “{container-name}/{virtual sub-folder}”. Avoid leading and trailing slashes (/). For example, the prefix “region1” is good, but “/region1/” is not."}}></SchemaItem></div></details></SchemaItem></ul></details></TabItem></MimeTabs><div><div><ApiTabs><TabItem label={"default"} value={"default"}><div>

successful operation

</div><div></div></TabItem></ApiTabs></div></div>
      