---
id: update-settings
title: "Update archive settings"
description: "Updates the archiving settings for a time-based log account. (The API token identifies the account.)"
sidebar_label: "Update archive settings"
hide_title: true
hide_table_of_contents: true
api: eJztWetuG7kVfhViAtQX6JKN/xnboIqj3Qrr2IFlbxrYBkzNUBLXM8MpyZGiGAL2QdqX2yfpd0jORZKVpEiL/ukGm2iG5OG5fucyT1EiTKxlYaXKo9Popki4FYbZuWBcx3O5kPmMGWEt/jVsqjTjzMpMdCfciISlasZ4HKsytz12eI1Tg/cjZtWjyJlMRG7lVFbkwraju/wu/6hKFvOclUZgURom8qRQMrc4e3qXH7PxUtp4HngQDQcTYZcCxAcfxoznCRt8LrVgb1I1YWOrNJ8JBh4XMhZsIbThPSLmpWKxFo4lnppe646VKrWnV4JPrMectMEyYecqqW9sTrNHsTLu9tHgHdMqFUTvLr9QlqThlqk8XeEvUfNPsk5IB5aeCqFrdUSdyPKZiU5vo0HYDKWa6L4TKexzrIwSmKZ0QoyDInCs4JqDR0iJw09RjgdskwmWJNmy4HaO31r8vZTgPTq1uhSdLYOP3jI1bZm7UTVxZuK5yHh0+hTZVeGo51bMhMYSXCHj1r86eRWt1/f+KmHsG5Ws6EyssDu39JMXRRr02v/N0M1Pu8TV5DcR2w2WbyPjrXpNW3BFoUkrFk7lSLQWGzrGaggAOiIvM6IxPsHDm/PLN0RhU/5xIeLGRwM9hlsWcF/dY6MpexifPHTcMmMPPOOfVT4+Cc5WmeMB6hNMi1QsOIUCHaMLw8EHTm5KXvrlc8TzJ54VKYkBrtckA5+kpIpavImCx/E82jEl7iQT484mdBFacak1zACPDLR67uiUl6mtnKK+lR5xa6yyQgtj/t2LyXWdSA0B+D18hQJDrNxScLRvYWOPtomnTRYG3r8gXQMVSwSz137LTR5II2RRF3hf8LsWWDj36vh42nHB7X07rDUetpxLwE3rAFvKNCVcKElPDlw3IKjHCFGVo+TVKiTWNXv4Zfhx/IDjdg7pTsYCRO1ZQxiWALEHwFOzacSz9o6W/DvxgnN4ojui+3UQ/Jnwek5OmJjRfuC40/3xsVbKHh9XKDM+YZMyfhSULs4qx2w7LM5xZspJ128jc5myKJS2IungrGW5sogYsintn2qVEdRSXjk+vsklIChcYXBtl40cDZkRCe4STA11glOK8UDcpzvD78CEIIS1bZ4pIJ9R99cwDGQRCr+IFUGqO0y/d7BosJl/nOFwt7+Ote7bUIrzmwmPH5dcJy7ucHwiU2lXvSZBOe+B5VQ+AxBogX0Zcq6Pwk2Pbrjdsfm6zf/u6tqpZ9PRntPN1n06/7p3DRwSsCthkK2R3C+Q7djh4OriiIxVOrNDsFBzrLZ8jVgj5vbB8HcDCtH8KqQgGcIBR5Sg41SKjZ/eyHgMLkjy0SJSKJe50O55B3xqil/Xn6uT3oKVGLyv2KE/esRGbz3KXLtn1tQDg7cMWbvHflakYX9+4OuXhsxrBkXBnWYS9/KAUyiMDDJabH1dgQ0gYIRg0kdQLfw3ct0qHtihP9zwfeaed/juICxKMIL/gZfuPfi4RE24kGIJiJqJ/55owZjfKJ4/w3xg9dh7bsxSIZSDPGft5UosmVcMHBh2Rg4xJQ0hzv8Udpr/nIxO0Xn1cs9tm3poe/E3qqEq3ysMpnq25+M8aMJs7XCl9lyliS/e6lihQPUFh69HqizbFB7r7cj6Ko9tPpqLghm2WCd9SQfS38LIvuyal2lK+PN83X7pfqAXWUhtS/xL6WsKXYAr4yuOFaXHkI0plwRma+577Pw5ploh447+8fs/nuozXbLKuv+0e+v6j9//2WODhZLoCgVP3OVwJfgVchE1kSk3c7jMYf+ox35CzgrFnq+QUSxO5Se6jLxR5T+AHGlwplRI+1jqh7V+WEQlEKDdoTuKggIeLAKch8pyG9lN6fLbtExZ3WBFdNz3e9Q4lbYq906j/uJVP6imX2WC/pNM1i6X60XVfpU6xe65tYU57fd5IXsw+eeeVDuudDNmQ24sO7xA/oaD5OxXqWcyl/wI/vAMpS4v9xIbGMkBGWTvmB2OV0kuVvvIxHwvmTOe84SjJAPUaJ7uoyD2MzIsKTOxw580zx+npbb7aOTpXhofUNWxitCFIOWk8CGzj1T5+FV2zlWeqHwfgeV+jTheYKpX7PADHBdmt47OvSuBSo3yytn9b93B+1H3+vKX4QWe79vrY2pwvTdu7Nr2yGoYksEIQBE/j6jGKMZXuBQjt+ee19bi/WEjTlHJ0n/RT8DyRKEgbHzWU+/6cyT9kc8QNLlo3eY6NI9j3QAkcY8Riw4ocgGEANZPHKTNBKWiUOpXXSzBCnvnbssocyHUx6PhO9Yqrl0Otu1pES42RsWSU0XrKl9kEmLtWu3Ri2s2n7m9ugZw505USitSbmlo0aGEGz+6QzPBaxC3quhqOZtbBq7LTjsP3h4fX6P3NciXXq6K59ctfo6Pv8sYTtiRPdhqVR6FKLwc4UrnXEiMLc3FXCOXFxoNVCpmwuXijD8C6uc8D8/oMLXP7UE/0J9RTE6JOKyJIgOVAZywmd/NOY3baPJFvbzKpKEOLIFKLOV5ryEtoNeYnr3VODxkWQ0AgwXc0CiUF60aGVL7lshNq+bIGW6wFOZY7YghdKap0VUzXxpWk4KtIZCf9dRDE58629MM/+YLg4Wdhj60wyEf1Pl5Tx/Y6p5ae5umqd1KPdMquWaoaai+3LI05X9zVVNcb7+rqtLm/UaV1tq+WRo1C5sqIO5kPlW7gPaCjZBGVFLG9AIxTOUQORb+SVRcEixQoWFcw++mBJeFcCj0qvcSXXsFPK0pSLVh3F5iU3g8UYX2FLvlC9QarmejnjhRyzxVPGnCEnebOi7hfn36LVW3KCeAhC4l7VWWHrG7/AVDM64y7vmvAJr7d4JlCskB1WBAJBNEocfba6E1J6Cpp4h7GGiHRd9Wp/oeCcBAwDFf8/hhN+S/uTp3oDiVeOHCi29sRFjLmYs9RH2FfXQ4VeqRcV/Ug0jdQiQJhQabcO1gXle3uPh3ZTeVvnapugh8sAk4SMKYm6DDFf07pHyvjPUD3UoUTjIq/TIaCJLvaK/ijiNzuynyHrURknVnJRTbr6Cs+tH1B3tzCytWatwYqpAvCtbOo+Q8tdtAZe+1V9cQ1tHAVCMoc+RU6ZKLTwCjPh2SQ8xELtyIiE4EZGwBcwWAdeIOfH5/onjBrujaVGaS9vkMHnMkaA/KvhBm2jVplNLdTp+6f3j5kpqAMBZ2/IbBvdn4MsHgZShvaZripND1jYZyejjTTjJuG2mrg78FN6HZiO2mo3qZNBEht/mRIyMj+//5zn1e0EDrbsrLPJ7fRWyOvgALGSxk1elcpMVfgr7uotdnJbA/A6Wxr+nZteDZj33+ukcaOguo78zeeticnnl91eMwP4WFHiuFGqcHn1DqqbaDHqWD7kLX0aEAcBKhI0rVkhChUpLPbqd3+V/dD9fWnlKIi8J2hzlCinaHxV95WmIVHQxKFvRHwKhiR4Lx9dXlxc/nH9nV8Ozy3bvhxdvhW8fTwVhQv3LgJDsYxxrMHDiUQvIuRRjMShhKWZ940hVLuZ6Jxm+M/Cx8qpbWfYtoRQy9FTozl9MxDVNi0aqpa2ydqNJ2SwdrmemqKX6LfpVaYteVCbKpS/yNTbFjs0jfiHzKmcBpBILL+6FQGBQcdTYljo3TOLxcLnvcrfaUnvXDUdM/H50NL8bDLo44qCC61Mf55OV6cuA7vLR1S/iEuP2RbLttaH30+v+31P/Jt1RfslnxyfaBRCgt18ErnkL5chstXlHt46m54qy25alMaMg6h/lp49MTWeZGp+s1vUYoa2r68HPBtfTDGbSAiTSh3JxCHdujmrZLHF6FcfAR+/KH12fFqOrmnIrmBYEEuWsnenR1JVhf09eaUEgTY37hzF/fDZ+xqoM7n2Spda1nIO9vrrF3Er7kZkj5eKn5kkba+Ps0usOfiL5Ru/qFNrn3TxHgf1bCd7DHk6X//gWzqmV9
sidebar_class_name: "put api-method"
info_path: docs/logz/logz-io-api
custom_edit_url: null
hide_send_button: true
---

import ApiTabs from "@theme/ApiTabs";
import DiscriminatorTabs from "@theme/DiscriminatorTabs";
import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import SecuritySchemes from "@theme/ApiExplorer/SecuritySchemes";
import MimeTabs from "@theme/MimeTabs";
import ParamsItem from "@theme/ParamsItem";
import ResponseSamples from "@theme/ResponseSamples";
import SchemaItem from "@theme/SchemaItem";
import SchemaTabs from "@theme/SchemaTabs";
import TabItem from "@theme/TabItem";

<h1 className={"openapi__heading"}>Update archive settings</h1>

<MethodEndpoint method={"put"} path={"/v2/archive/settings/{id}"}></MethodEndpoint>



Updates the archiving settings for a time-based log account. (The API token identifies the account.)

You can use this endpoint to:
* Switch archive settings between AWS and Azure Blob Storage or vice versa.
* Update credentials.
* Switch your AWS authentication method between credential keys and IAM roles.

Note that only one archive can be active per account.

## Request

<details style={{"marginBottom":"1rem"}} className={"openapi-markdown__details"} data-collapsed={false} open={true}><summary style={{}}><h3 className={"openapi-markdown__details-summary-header-params"}>Path Parameters</h3></summary><div><ul><ParamsItem className={"paramsItem"} param={{"name":"id","in":"path","required":true,"description":"ID of the archive settings.","schema":{"type":"integer","format":"int32"}}}></ParamsItem></ul></div></details><MimeTabs className={"openapi-tabs__mime"}><TabItem label={"application/json"} value={"application/json-schema"}><details style={{}} className={"openapi-markdown__details mime"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-mime"}><h3 className={"openapi-markdown__details-summary-header-body"}>Body</h3></summary><div style={{"textAlign":"left","marginLeft":"1rem"}}></div><ul style={{"marginLeft":"1rem"}}><SchemaItem collapsible={false} name={"storageType"} required={true} schemaName={"string"} qualifierMessage={"**Possible values:** [`S3`, `BLOB`]"} schema={{"type":"string","enum":["S3","BLOB"],"description":"Specifies the storage provider. If `S3`, the   `amazonS3StorageSettings` are relevant. If `BLOB`, the `azureBlobStorageSettings` are relevant.","example":"S3"}}></SchemaItem><SchemaItem collapsible={false} name={"enabled"} required={false} schemaName={"boolean"} qualifierMessage={undefined} schema={{"type":"boolean","description":"If `true`, archiving is currently enabled.","default":true,"example":true}}></SchemaItem><SchemaItem collapsible={false} name={"compressed"} required={false} schemaName={"boolean"} qualifierMessage={undefined} schema={{"type":"boolean","description":"If `true`, logs are compressed before they are archived.","default":true,"example":true}}></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>amazonS3StorageSettings</strong><span className={"openapi-schema__name"}> object</span></span></summary><div style={{"marginLeft":"1rem"}}><div style={{"marginTop":".5rem","marginBottom":".5rem"}}>

Applicable settings when the `storageType` is `S3`.

</div><SchemaItem collapsible={false} name={"credentialsType"} required={true} schemaName={"string"} qualifierMessage={"**Possible values:** [`IAM`, `KEYS`]"} schema={{"description":"Specifies which credentials will be used for authentication. The options are either `KEYS` with `s3SecretCredentials`, or `IAM` with `s3IamCredentials`.","type":"string","enum":["IAM","KEYS"]}}></SchemaItem><SchemaItem collapsible={false} name={"path"} required={true} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"Specify a path to the **root** of the S3 bucket. (Currently, archiving to a sub-bucket is supported, but not restoring from one.)\n**Unique buckets** - It is important to archive each account/sub-account to a separate S3 bucket."}}></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>s3SecretCredentials</strong><span className={"openapi-schema__name"}> object</span></span></summary><div style={{"marginLeft":"1rem"}}><div style={{"marginTop":".5rem","marginBottom":".5rem"}}>

Authentication with S3 Secret Credentials is supported for backward compatibility. IAM roles are strongly recommended.

</div><SchemaItem collapsible={false} name={"accessKey"} required={true} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string"}}></SchemaItem><SchemaItem collapsible={false} name={"secretKey"} required={true} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string"}}></SchemaItem></div></details></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>s3IamCredentials</strong><span className={"openapi-schema__name"}> object</span></span></summary><div style={{"marginLeft":"1rem"}}><SchemaItem collapsible={false} name={"arn"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"Amazon Resource Name (ARN) to uniquely identify the S3 bucket."}}></SchemaItem></div></details></SchemaItem></div></details></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>azureBlobStorageSettings</strong><span className={"openapi-schema__name"}> object</span></span></summary><div style={{"marginLeft":"1rem"}}><div style={{"marginTop":".5rem","marginBottom":".5rem"}}>

Applicable settings when the `storageType` is `Blob`.

</div><SchemaItem collapsible={false} name={"tenantId"} required={true} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"Azure Directory (tenant) ID. The Tenant ID of the AD app. Go to Azure Active Directory > App registrations and select the app to see it."}}></SchemaItem><SchemaItem collapsible={false} name={"clientId"} required={true} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"Azure application (client) ID. The Client ID of the AD app, found under the App Overview page. Go to Azure Active Directory > App registrations and select the app to see it."}}></SchemaItem><SchemaItem collapsible={false} name={"clientSecret"} required={true} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"Azure client secret. Password of the Client secret, found in the app's Certificates & secrets page. Go to Azure Active Directory > App registrations and select the app. Then select Certificates & secrets to see it."}}></SchemaItem><SchemaItem collapsible={false} name={"accountName"} required={true} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"Azure Storage account name. Name of the storage account that holds the container where the logs will be archived."}}></SchemaItem><SchemaItem collapsible={false} name={"containerName"} required={true} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"Name of the container in the Storage account. This is where the logs will be archived."}}></SchemaItem><SchemaItem collapsible={false} name={"path"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","nullable":true,"description":"Optional virtual sub-folder specifiying a path within the container. Logs will be archived under the path “{container-name}/{virtual sub-folder}”. Avoid leading and trailing slashes (/). For example, the prefix “region1” is good, but “/region1/” is not."}}></SchemaItem></div></details></SchemaItem></ul></details></TabItem></MimeTabs><div><div><ApiTabs><TabItem label={"default"} value={"default"}><div>

successful operation

</div><div></div></TabItem></ApiTabs></div></div>
