---
id: update-settings
title: "Update archive settings"
description: "Updates the archiving settings for a time-based log account. (The API token identifies the account.) Please ensure to change the region in the URL to match your account's region."
sidebar_label: "Update archive settings"
hide_title: true
hide_table_of_contents: true
api: eJztWetuG7kVfhVCARrb0GU3+WdsgyqOdiusYweWvWlgBzA1Q0lcj4ZTkiNFMQTsg7Qvt0/S7xxyNCPJSlJs+6doF401Q/LwXL9zmcdWqlxideG1yVunrZsilV454WdKSJvM9ELnU+GU9/jrxMRYIYXXc9UZS6dSkZmpkEliytx3xdE1TvXfDYU3DyoXOlW51xNdkYvbjsW7TOGwULkrrcJmkcxkPlW8y6opOBE656ebq3Nan0ufzMTKlLai8tzFnd27/C7/YEqRyFyUjohoB9JpYXTucfj0Lj8Ro6UmCkEiVcszVn6pwGr//UjIPBX9z8TR68yMxcgbK8EUJF7oRImFsk52iVjQkUisYgFl5rqNO5hLpldCAqwnknQr5srPTLq5sT4tHtTK8e3D/lthTaYcC3VhPEkjvTB5tsI/asM/yTomjXp6KtRGLd1Wu+Xl1LVOb1v9uBkmcq2P7ZbBPmZlmMLQJQsxiorAsUJaCR4hJQ4/tnI8YJtOsaTJMwrpZ/ht1d9LDd5bp96Wqr3jPsM3wkwazlOrmjhzyUzNZev0seVXBVPPvZoqiyU4FowcXr180VqvP4arlPOvTbqiM4nB7tzTT1kUWdRr71dHNz/uEzfjX1Xit1i+bblg1WvagisKS1rxcFEm0Vis6ThvIQDoqLycE43RSzy8Pr98TRS25R8VKqk9PtITuGWBYLBdMZyI+9HL+zYvC3Ev5/KzyUcvo7NV5riH+igUMrWQFFh0jC6MB+8luSl56ZfPEc+f5LzISAxwvSYZ5DgjVWzEGxt4nMxbe6bEnWRi3FkDAUIrKa2FGeCRkVaXj05kmfnKKTa30iNuTcy8sMq5f/dicl0WqSYAv4evMFaseCk62rewcUDbxNM2C/3gX5Cuhoolgjlov+Em96QRsigH3hf8rgEW7F7tEE97Lri7b4+12sOWMw24aRwQS51lhAsl6YmheguCuoLw2TCloFalsW7F/c+DD6N7HPczSPdypEDUn9WEYQkQuwc81ZuGct7c0ZB/L15wDk90R+vjOgr+RHg9JSdMLGg/JQHS/cmJNcafnFQoM3opxmXyoCj5nFWO2XRYnJPCleNO2EbmcmVRGOtV2sZZL3LjETFkU9o/sWZOUNs9BqSf3OQaEBSvcLi2I4ZMQ8+JhOQEs4E6JSnFBCDu0Z3xd2RCEcL6Js8UkE+o+2sYBrIIhZ/ViiCVD9PvPSzqb+cfNhzuDteJxn1bSmG/GcvkYSltynGH42Odab/q1gmKvQeWM/kUQGAV9s2Rc0MUbnt0ze2ezddN/vdX16yebUd7Sjc799n8697VZyQQV8ohWyO5XyDbiaP+1cUxGatks0OwWMGsdnyNWCPmDsHwHwYUovlVSEEyhAMOKUEnmVZbP4OR8RhdkOSjRaRQqXNl+XkPfDYUv64/rpPegJUEvK/EUTh6LIZvAspc87Oo64H+G4Gs3RU/GdJwON8P9UtN5pWAoriww70y4hQKI4eMlvhQV2ADCDilhA4RtBH+G7luFA/iKByu+T7j5z2+2wiLEozg/8BLfg8+LlETLrRaAqKm6r8nWjTmN4oXzogQWF3xTjq3NAjlKM9Zc7kSK1bbYAB19Rk5xIQ0hDj/U9zp/nMysqLz6uWB27b10PTib1RDVb5XGEz1bDfEedSE29nBpfbMZGko3jaxQoEaCo5Qj1RZti481ruR9VUem3zUF0Uz7LBO+tIM0t/CyKHsmpdZRvjzdN1+yT/Qiyy09SX+UvqaQBfgyoWKY0XpMWZjyiWR2Q33XXH+FFONkOGjv//2j8fNmQ5ZZd173L91/ftv/+yK/sJo9JhKpnw5XAl+hVxELWkm3Qwuc9Q77oofkbNisRcqZBSLE/2JLgtd4vcgRxqcGhPTPpZ6ca0XF1EJRGhndEdRUMCDVYTzWFnuIrsrOb9NykxsGqwWHQ/9HjVOpa/KvdNWb/GiF1XTqzJB71Gna87ldlG1X6XNsHvmfeFOez1Z6C5M/rmrzZ4r3YzEQDovji6Qv+EgufhF26nOtTyGPzxBqSPLg8T6TktABtk7EUejVZqr1SEyiTxI5kzmMpUoyQA1VmaHKKjDjAxKykzi6Ecr84dJaf0hGnl2kMZ7VHWiInShSDkZfMgdIlU+fJWdc5OnJj9EYHlYI8wLTPVCHL2H48Lsnul85BKotCiv2O5/6/TfDTvXlz8PLvD8sbk+ogY3eOPWrl2PrIYhcxgBKBLmEdVQxoUKl2Lk9jzw2lj8eFSLU1Sy9J71UrA8NigIa58N1DvhHEl/HDIETS4at3GHFnCsE4Ek6QpikYEiV0AIYP2YIW2qKBXFUr/qYglWxFu+bU6ZC6E+Gg7eikZxzTnYN2dPuNg5k2hJFS1XvsgkxNq1OaAXbjafuL26BnDHJyqlFZn0NLRoU8JNHvjQVMkNiHtTdKyezrwA12W7mQdvT06u0fs65MsgV8XzqwY/Jyd/yBgs7JDGZFutyoNSRZAjXsnOhcTY0FwiLXJ5YdFAZWqqXBjAPag4peNndJg25PaoH+jPGaEnRBzWRJGBygBOWE8DZ5LGbTT5ol7ezLWjDiyFSjzl+aAhq6DXhJ6D1SQ8ZFmNE6MFeGgUy4tGjQypQ0vE06oZcgYPluIcqxkxhM40Nbqq50uDalKwMwQKs57N0CSkzuY0I7z5wmBhr6GP7XDMB5v8fKAPbHRPjb1109RspZ5olbgZqhuqL7csdflfX1UX17vvqqq0fr9VpTW2b5dG9cK2Cog7nU/MPqA9E0OkEZOWCb1ADFM5RI6FP6lJSoIFKjQcN/w8JbgsFKPQi+536Nor4GlMQaoNo+aSmMDjiSq0Z8StXKDW4J6NeuLULPPMyLQOyyk8tBx34Q49ik4EJ/3pwBF7Y2gYUem8sr1YmLi4qVOUYyAGbeuu5tmxuMufCfTqZi6DeBV+y/BOiblB7kCxGAHLRUnp8fZaWSsJhzZDxpo/6MZtcKMZNT1fneoFoAADEebi+J1n4VDPzdU5Y+ZE40Vz/h43Iur1NEzrzQYa6XBmzIOQfjPErzqMNKXIEWNpOQvY6haGB67KqTL2S9MBLoBNoEUap+CELNwT7JEKrTTWn9tGHmHJqDKc07yQXMsGFbeZzO22yAfURkDXmZZQbK9CuupHJ36AmHlYsVLj1syFXFWJZpol39p4FVT2zgZ1DWAdC8h1ihJLToUwRcAYKBuyJTnEVOWKJ0h0IgJnA7crfNzk9cjnH88jz8QVXZvpuaZ9IcEnEvk7YHaok4XlHo4yPu8Mmf37776jHiFOjZnfONd3Wx8uBLwM1S8NW1gKu7nRUcqPZ5o5iLeRttr4lz8oMdIkfttRg0yWiJDb/CCRsFEc/PmOvz5YRG8nk2WezO5aYoa2AQtzWMib05nKir9Efd21Xp2VSA1zUBqFkl9cKzn/oSdfdUlDZzEpsNkbD9vDtaCvzbQsDGmhx0qhjvUQ8s1m6M3IZGzUXWxK2hQALBEapswsCREqJYXkd3qX/5V/cNd7SiGuCt8Z5Agp2h0Xf5FZiVU0OKho0D4Bo4o9CUbXV5cXP51/EFeDs8u3bwcXbwZvmKfnI0XtzHOW7PkosWDmOaMUcnup4txWw1DGh7yUrUQm7VTVfuP0ZxUyufb8qaIRMfRW2bm7nIxo1pKoRsldubIcm9J3Soa1ueuYCX6rXpV5Em7aFNmU64LaptixXcNvRT6lVOA0AoHLglhH9AuJMpzyytZpHF4ul13Jq11jp7141PXOh2eDi9GggyMMFUSX2ryQ27hlB77DSxu3xC+Mu9/QdruKxjex/3+4/R/4cBvqQ68++R5wDXXsOvrYY6yVbluLF1RoBWpcCW4841SnNNGdwZlo4+Mj2fnGZus1vQYwWOow8XMhrQ6TIPSbqXaxtp1AHbtzoaaDHV3F2fOx+PJX3ifFqIr0nCr0BUEOOX+79cBFLFhf06ehWLUTY2HhLFzfid/MqoN733+pT94MXN7dXGPvOH42nqOAwEsrlzQ/x7+nrTv816IP4lwN0SZ+/9hCMpmW8B3sCWTpf/8C9XOpEQ==
sidebar_class_name: "put api-method"
info_path: docs/logz/logz-io-api
custom_edit_url: null
hide_send_button: true
---

import ApiTabs from "@theme/ApiTabs";
import DiscriminatorTabs from "@theme/DiscriminatorTabs";
import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import SecuritySchemes from "@theme/ApiExplorer/SecuritySchemes";
import MimeTabs from "@theme/MimeTabs";
import ParamsItem from "@theme/ParamsItem";
import ResponseSamples from "@theme/ResponseSamples";
import SchemaItem from "@theme/SchemaItem";
import SchemaTabs from "@theme/SchemaTabs";
import TabItem from "@theme/TabItem";

<h1 className={"openapi__heading"}>Update archive settings</h1>

<MethodEndpoint method={"put"} path={"/v2/archive/settings/{id}"}></MethodEndpoint>



Updates the archiving settings for a time-based log account. (The API token identifies the account.) <br /> 
*Please ensure to change the region in the URL to match your account's region.*

You can use this endpoint to:
* Switch archive settings between AWS and Azure Blob Storage or vice versa.
* Update credentials.
* Switch your AWS authentication method between credential keys and IAM roles.

Note that only one archive can be active per account.

## Request

<details style={{"marginBottom":"1rem"}} className={"openapi-markdown__details"} data-collapsed={false} open={true}><summary style={{}}><h3 className={"openapi-markdown__details-summary-header-params"}>Path Parameters</h3></summary><div><ul><ParamsItem className={"paramsItem"} param={{"name":"id","in":"path","required":true,"description":"ID of the archive settings.","schema":{"type":"integer","format":"int32"}}}></ParamsItem></ul></div></details><MimeTabs className={"openapi-tabs__mime"}><TabItem label={"application/json"} value={"application/json-schema"}><details style={{}} className={"openapi-markdown__details mime"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-mime"}><h3 className={"openapi-markdown__details-summary-header-body"}>Body</h3></summary><div style={{"textAlign":"left","marginLeft":"1rem"}}></div><ul style={{"marginLeft":"1rem"}}><SchemaItem collapsible={false} name={"storageType"} required={true} schemaName={"string"} qualifierMessage={"**Possible values:** [`S3`, `BLOB`]"} schema={{"type":"string","enum":["S3","BLOB"],"description":"Specifies the storage provider. If `S3`, the   `amazonS3StorageSettings` are relevant. If `BLOB`, the `azureBlobStorageSettings` are relevant.","example":"S3"}}></SchemaItem><SchemaItem collapsible={false} name={"enabled"} required={false} schemaName={"boolean"} qualifierMessage={undefined} schema={{"type":"boolean","description":"If `true`, archiving is currently enabled.","default":true,"example":true}}></SchemaItem><SchemaItem collapsible={false} name={"compressed"} required={false} schemaName={"boolean"} qualifierMessage={undefined} schema={{"type":"boolean","description":"If `true`, logs are compressed before they are archived.","default":true,"example":true}}></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>amazonS3StorageSettings</strong><span className={"openapi-schema__name"}> object</span></span></summary><div style={{"marginLeft":"1rem"}}><div style={{"marginTop":".5rem","marginBottom":".5rem"}}>

Applicable settings when the `storageType` is `S3`.

</div><SchemaItem collapsible={false} name={"credentialsType"} required={true} schemaName={"string"} qualifierMessage={"**Possible values:** [`IAM`, `KEYS`]"} schema={{"description":"Specifies which credentials will be used for authentication. The options are either `KEYS` with `s3SecretCredentials`, or `IAM` with `s3IamCredentials`.","type":"string","enum":["IAM","KEYS"]}}></SchemaItem><SchemaItem collapsible={false} name={"path"} required={true} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"Specify a path to the **root** of the S3 bucket. (Currently, archiving to a sub-bucket is supported, but not restoring from one.)\n**Unique buckets** - It is important to archive each account/sub-account to a separate S3 bucket."}}></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>s3SecretCredentials</strong><span className={"openapi-schema__name"}> object</span></span></summary><div style={{"marginLeft":"1rem"}}><div style={{"marginTop":".5rem","marginBottom":".5rem"}}>

Authentication with S3 Secret Credentials is supported for backward compatibility. IAM roles are strongly recommended.

</div><SchemaItem collapsible={false} name={"accessKey"} required={true} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string"}}></SchemaItem><SchemaItem collapsible={false} name={"secretKey"} required={true} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string"}}></SchemaItem></div></details></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>s3IamCredentials</strong><span className={"openapi-schema__name"}> object</span></span></summary><div style={{"marginLeft":"1rem"}}><SchemaItem collapsible={false} name={"arn"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"Amazon Resource Name (ARN) to uniquely identify the S3 bucket."}}></SchemaItem></div></details></SchemaItem></div></details></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>azureBlobStorageSettings</strong><span className={"openapi-schema__name"}> object</span></span></summary><div style={{"marginLeft":"1rem"}}><div style={{"marginTop":".5rem","marginBottom":".5rem"}}>

Applicable settings when the `storageType` is `Blob`.

</div><SchemaItem collapsible={false} name={"tenantId"} required={true} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"Azure Directory (tenant) ID. The Tenant ID of the AD app. Go to Azure Active Directory > App registrations and select the app to see it."}}></SchemaItem><SchemaItem collapsible={false} name={"clientId"} required={true} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"Azure application (client) ID. The Client ID of the AD app, found under the App Overview page. Go to Azure Active Directory > App registrations and select the app to see it."}}></SchemaItem><SchemaItem collapsible={false} name={"clientSecret"} required={true} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"Azure client secret. Password of the Client secret, found in the app's Certificates & secrets page. Go to Azure Active Directory > App registrations and select the app. Then select Certificates & secrets to see it."}}></SchemaItem><SchemaItem collapsible={false} name={"accountName"} required={true} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"Azure Storage account name. Name of the storage account that holds the container where the logs will be archived."}}></SchemaItem><SchemaItem collapsible={false} name={"containerName"} required={true} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"Name of the container in the Storage account. This is where the logs will be archived."}}></SchemaItem><SchemaItem collapsible={false} name={"path"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","nullable":true,"description":"Optional virtual sub-folder specifiying a path within the container. Logs will be archived under the path “{container-name}/{virtual sub-folder}”. Avoid leading and trailing slashes (/). For example, the prefix “region1” is good, but “/region1/” is not."}}></SchemaItem></div></details></SchemaItem></ul></details></TabItem></MimeTabs><div><div><ApiTabs><TabItem label={"default"} value={"default"}><div>

successful operation

</div><div></div></TabItem></ApiTabs></div></div>
