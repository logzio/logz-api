---
id: update-settings
title: "Update archive settings"
description: "Updates the archiving settings for a time-based log account. (The API token identifies the account.) Please ensure to change the region in the URL to match your account's region."
sidebar_label: "Update archive settings"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "put api-method"
info_path: docs/logz/logz-io-api
custom_edit_url: null
hide_send_button: true
---

import ApiTabs from "@theme/ApiTabs";
import DiscriminatorTabs from "@theme/DiscriminatorTabs";
import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import SecuritySchemes from "@theme/ApiExplorer/SecuritySchemes";
import MimeTabs from "@theme/MimeTabs";
import ParamsItem from "@theme/ParamsItem";
import ResponseSamples from "@theme/ResponseSamples";
import SchemaItem from "@theme/SchemaItem";
import SchemaTabs from "@theme/SchemaTabs";
import TabItem from "@theme/TabItem";

<h1 className={"openapi__heading"}>Update archive settings</h1>

<MethodEndpoint method={"put"} path={"/v2/archive/settings/{id}"}></MethodEndpoint>



Updates the archiving settings for a time-based log account. (The API token identifies the account.) Please ensure to change the region in the URL to match your account's region.

You can use this endpoint to:
* Switch archive settings between AWS and Azure Blob Storage or vice versa.
* Update credentials.
* Switch your AWS authentication method between credential keys and IAM roles.

Note that only one archive can be active per account.

## Request

<details style={{"marginBottom":"1rem"}} className={"openapi-markdown__details"} data-collapsed={false} open={true}><summary style={{}}><h3 className={"openapi-markdown__details-summary-header-params"}>Path Parameters</h3></summary><div><ul><ParamsItem className={"paramsItem"} param={{"name":"id","in":"path","required":true,"description":"ID of the archive settings.","schema":{"type":"integer","format":"int32"}}}></ParamsItem></ul></div></details><MimeTabs className={"openapi-tabs__mime"}><TabItem label={"application/json"} value={"application/json-schema"}><details style={{}} className={"openapi-markdown__details mime"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-mime"}><h3 className={"openapi-markdown__details-summary-header-body"}>Body</h3></summary><div style={{"textAlign":"left","marginLeft":"1rem"}}></div><ul style={{"marginLeft":"1rem"}}><SchemaItem collapsible={false} name={"storageType"} required={true} schemaName={"string"} qualifierMessage={"**Possible values:** [`S3`, `BLOB`]"} schema={{"type":"string","enum":["S3","BLOB"],"description":"Specifies the storage provider. If `S3`, the   `amazonS3StorageSettings` are relevant. If `BLOB`, the `azureBlobStorageSettings` are relevant.","example":"S3"}}></SchemaItem><SchemaItem collapsible={false} name={"enabled"} required={false} schemaName={"boolean"} qualifierMessage={undefined} schema={{"type":"boolean","description":"If `true`, archiving is currently enabled.","default":true,"example":true}}></SchemaItem><SchemaItem collapsible={false} name={"compressed"} required={false} schemaName={"boolean"} qualifierMessage={undefined} schema={{"type":"boolean","description":"If `true`, logs are compressed before they are archived.","default":true,"example":true}}></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>amazonS3StorageSettings</strong><span className={"openapi-schema__name"}> object</span></span></summary><div style={{"marginLeft":"1rem"}}><div style={{"marginTop":".5rem","marginBottom":".5rem"}}>

Applicable settings when the `storageType` is `S3`.

</div><SchemaItem collapsible={false} name={"credentialsType"} required={true} schemaName={"string"} qualifierMessage={"**Possible values:** [`IAM`, `KEYS`]"} schema={{"description":"Specifies which credentials will be used for authentication. The options are either `KEYS` with `s3SecretCredentials`, or `IAM` with `s3IamCredentials`.","type":"string","enum":["IAM","KEYS"]}}></SchemaItem><SchemaItem collapsible={false} name={"path"} required={true} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"Specify a path to the **root** of the S3 bucket. (Currently, archiving to a sub-bucket is supported, but not restoring from one.)\n**Unique buckets** - It is important to archive each account/sub-account to a separate S3 bucket."}}></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>s3SecretCredentials</strong><span className={"openapi-schema__name"}> object</span></span></summary><div style={{"marginLeft":"1rem"}}><div style={{"marginTop":".5rem","marginBottom":".5rem"}}>

Authentication with S3 Secret Credentials is supported for backward compatibility. IAM roles are strongly recommended.

</div><SchemaItem collapsible={false} name={"accessKey"} required={true} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string"}}></SchemaItem><SchemaItem collapsible={false} name={"secretKey"} required={true} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string"}}></SchemaItem></div></details></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>s3IamCredentials</strong><span className={"openapi-schema__name"}> object</span></span></summary><div style={{"marginLeft":"1rem"}}><SchemaItem collapsible={false} name={"arn"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"Amazon Resource Name (ARN) to uniquely identify the S3 bucket."}}></SchemaItem></div></details></SchemaItem></div></details></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>azureBlobStorageSettings</strong><span className={"openapi-schema__name"}> object</span></span></summary><div style={{"marginLeft":"1rem"}}><div style={{"marginTop":".5rem","marginBottom":".5rem"}}>

Applicable settings when the `storageType` is `Blob`.

</div><SchemaItem collapsible={false} name={"tenantId"} required={true} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"Azure Directory (tenant) ID. The Tenant ID of the AD app. Go to Azure Active Directory > App registrations and select the app to see it."}}></SchemaItem><SchemaItem collapsible={false} name={"clientId"} required={true} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"Azure application (client) ID. The Client ID of the AD app, found under the App Overview page. Go to Azure Active Directory > App registrations and select the app to see it."}}></SchemaItem><SchemaItem collapsible={false} name={"clientSecret"} required={true} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"Azure client secret. Password of the Client secret, found in the app's Certificates & secrets page. Go to Azure Active Directory > App registrations and select the app. Then select Certificates & secrets to see it."}}></SchemaItem><SchemaItem collapsible={false} name={"accountName"} required={true} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"Azure Storage account name. Name of the storage account that holds the container where the logs will be archived."}}></SchemaItem><SchemaItem collapsible={false} name={"containerName"} required={true} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"Name of the container in the Storage account. This is where the logs will be archived."}}></SchemaItem><SchemaItem collapsible={false} name={"path"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","nullable":true,"description":"Optional virtual sub-folder specifiying a path within the container. Logs will be archived under the path “{container-name}/{virtual sub-folder}”. Avoid leading and trailing slashes (/). For example, the prefix “region1” is good, but “/region1/” is not."}}></SchemaItem></div></details></SchemaItem></ul></details></TabItem></MimeTabs><div><div><ApiTabs><TabItem label={"default"} value={"default"}><div>

successful operation

</div><div></div></TabItem></ApiTabs></div></div>
