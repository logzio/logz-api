---
id: update-security-rule
title: "Update a security rule"
description: "Applies changes to a rule, identified by its ID. Can also be used to enable or disable a rule."
sidebar_label: "Update a security rule"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "put api-method"
info_path: docs/logz/logz-io-api
custom_edit_url: null
hide_send_button: true
---

import ApiTabs from "@theme/ApiTabs";
import DiscriminatorTabs from "@theme/DiscriminatorTabs";
import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import SecuritySchemes from "@theme/ApiExplorer/SecuritySchemes";
import MimeTabs from "@theme/MimeTabs";
import ParamsItem from "@theme/ParamsItem";
import ResponseSamples from "@theme/ResponseSamples";
import SchemaItem from "@theme/SchemaItem";
import SchemaTabs from "@theme/SchemaTabs";
import Markdown from "@theme/Markdown";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";

<h1 className={"openapi__heading"}>Update a security rule</h1>

<MethodEndpoint method={"put"} path={"/v2/security/rules/{ruleId}"}></MethodEndpoint>



Applies changes to a rule, identified by its ID. Can also be used to enable or disable a rule. 
Please ensure to change the region in the URL to match your account's region.


## Request

<details style={{"marginBottom":"1rem"}} className={"openapi-markdown__details"} data-collapsed={false} open={true}><summary style={{}}><h3 className={"openapi-markdown__details-summary-header-params"}>Path Parameters</h3></summary><div><ul><ParamsItem className={"paramsItem"} param={{"name":"ruleId","in":"path","required":true,"schema":{"type":"integer","format":"int32"}}}></ParamsItem></ul></div></details><MimeTabs className={"openapi-tabs__mime"}><TabItem label={"application/json"} value={"application/json-schema"}><details style={{}} className={"openapi-markdown__details mime"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-mime"}><h3 className={"openapi-markdown__details-summary-header-body"}>Body</h3></summary><div style={{"textAlign":"left","marginLeft":"1rem"}}></div><ul style={{"marginLeft":"1rem"}}><SchemaItem collapsible={false} name={"title"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"Rule title","example":"Excessive WARN levels in PROD"}}></SchemaItem><SchemaItem collapsible={false} name={"description"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"A description of the event, its significance, and suggested next steps or instructions for the team.","example":"Steps to remediate..."}}></SchemaItem><SchemaItem collapsible={false} name={"tags"} required={false} schemaName={"string[]"} qualifierMessage={"**Possible values:** `<= 25`"} schema={{"type":"array","items":{"type":"string"},"maxItems":25,"minItems":0,"description":"Tags for filtering rules and triggered rules. Can be used in Kibana Discover, dashboards, and more.","example":"network"}}></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>output</strong><span className={"openapi-schema__name"}> object</span></span></summary><div style={{"marginLeft":"1rem"}}><div style={{"marginTop":".5rem","marginBottom":".5rem"}}>

Automatically sends out notifications with sample results when the rule triggers.

</div><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>recipients</strong><span className={"openapi-schema__name"}> object</span></span></summary><div style={{"marginLeft":"1rem"}}><div style={{"marginTop":".5rem","marginBottom":".5rem"}}>

Add email addresses and/or endpoint channels to automatically receive notifications with sample data when the rule triggers.

</div><SchemaItem collapsible={false} name={"emails"} required={false} schemaName={"string[]"} qualifierMessage={undefined} schema={{"type":"array","description":"Array of email addresses to be notified when the rule triggers.","items":{"type":"string","example":"tom.a@logz.io"}}}></SchemaItem><SchemaItem collapsible={false} name={"notificationEndpointIds"} required={false} schemaName={"int32[]"} qualifierMessage={undefined} schema={{"type":"array","description":"Array of IDs of pre-configured endpoint channels to notify when the rule triggers.","items":{"type":"integer","format":"int32"}}}></SchemaItem></div></details></SchemaItem><SchemaItem collapsible={false} name={"suppressNotificationsMinutes"} required={false} schemaName={"int32"} qualifierMessage={"**Possible values:** `>= 5` and `<= 1440`"} schema={{"type":"integer","format":"int32","minimum":5,"maximum":1440,"description":"Add a waiting period in minutes to space out notifications. (The rule will still trigger but will not send out notifications during the waiting period.)","example":60}}></SchemaItem><SchemaItem collapsible={false} name={"type"} required={false} schemaName={"string"} qualifierMessage={"**Possible values:** [`JSON`, `TABLE`]"} schema={{"type":"string","description":"Selects the output format for the rule notification. If the rule has no aggregations/group by fields, `JSON` offers the option to send full sample logs without selecting specific fields.","enum":["JSON","TABLE"]}}></SchemaItem></div></details></SchemaItem><SchemaItem collapsible={false} name={"searchTimeFrameMinutes"} required={false} schemaName={"int32"} qualifierMessage={"**Possible values:** `>= 5` and `<= 1440`"} schema={{"type":"integer","minimum":5,"maximum":1440,"format":"int32","description":"The time frame for evaluating the log data is a sliding window, with 1 minute granularity.\n\nThe recommended minimum and maximum values are not validated, but needed to guarantee the rule's accuracy.\n\nThe minimum recommended time frame is 5 minutes, as anything shorter will be less reliable and unnecessarily resource-heavy.\n\nThe maximum recommended time frame is 1440 minutes (24 hours). The rule runs on the index from today and yesterday (in UTC) and the maximum time frame increases throughout the day, reaching 48 hours exactly before midnight UTC.","example":20}}></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>subComponents</strong><span className={"openapi-schema__name"}> object[]</span><span className={"openapi-schema__divider"}></span><span className={"openapi-schema__required"}>required</span></span></summary><div style={{"marginLeft":"1rem"}}><div style={{"marginTop":".5rem","marginBottom":".5rem"}}>

Sets the search criteria using a search query, filters, group by aggregations, accounts to search, and trigger conditions.

</div><li><div style={{"fontSize":"var(--ifm-code-font-size)","opacity":"0.6","marginLeft":"-.5rem","paddingBottom":".5rem"}}>Array [</div></li><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>queryDefinition</strong><span className={"openapi-schema__name"}> object</span></span></summary><div style={{"marginLeft":"1rem"}}><div style={{"marginTop":".5rem","marginBottom":".5rem"}}>

Determines when the rule should trigger using any combination of a search query, filters, group by aggregations, accounts to search, and trigger conditions.

</div><SchemaItem collapsible={false} name={"query"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"Provide a Kibana search query written in Lucene syntax. The search query together with the filters select for the relevant logs.\n\nCannot be null - send an asterisk wildcard `*` if not using a search query.","default":"*","nullable":false,"example":"type:apache_access"}}></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>filters</strong><span className={"openapi-schema__name"}> object</span></span></summary><div style={{"marginLeft":"1rem"}}><div style={{"marginTop":".5rem","marginBottom":".5rem"}}>

Apply `must` and `must_not` filters to the monitoring alert. Filters are more efficient compared to a query, so it's recommended to opt for a filter over a query, where possible. See [Elasticsearch Bool-Query](https://www.elastic.co/guide/en/elasticsearch/reference/6.8/query-dsl-bool-query.html) for more detail.

</div><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>bool</strong><span className={"openapi-schema__name"}> object</span></span></summary><div style={{"marginLeft":"1rem"}}><div style={{"marginTop":".5rem","marginBottom":".5rem"}}>

Runs Elasticsearch [Bool Query](https://www.elastic.co/guide/en/elasticsearch/reference/6.8/query-dsl-bool-query.html) filters on the data (before the search query is applied). The most efficient way to grab the logs you are looking for.

</div><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>must</strong><span className={"openapi-schema__name"}> object[]</span></span></summary><div style={{"marginLeft":"1rem"}}><li><div style={{"fontSize":"var(--ifm-code-font-size)","opacity":"0.6","marginLeft":"-.5rem","paddingBottom":".5rem"}}>Array [</div></li><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>match_phrase</strong><span className={"openapi-schema__name"}> object</span></span></summary><div style={{"marginLeft":"1rem"}}><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>Field</strong><span className={"openapi-schema__name"}> object</span></span></summary><div style={{"marginLeft":"1rem"}}><SchemaItem collapsible={false} name={"query"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","example":"value"}}></SchemaItem></div></details></SchemaItem></div></details></SchemaItem><li><div style={{"fontSize":"var(--ifm-code-font-size)","opacity":"0.6","marginLeft":"-.5rem"}}>]</div></li></div></details></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>must_not</strong><span className={"openapi-schema__name"}> object[]</span></span></summary><div style={{"marginLeft":"1rem"}}><li><div style={{"fontSize":"var(--ifm-code-font-size)","opacity":"0.6","marginLeft":"-.5rem","paddingBottom":".5rem"}}>Array [</div></li><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>match_phrase</strong><span className={"openapi-schema__name"}> object</span></span></summary><div style={{"marginLeft":"1rem"}}><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>Field</strong><span className={"openapi-schema__name"}> object</span></span></summary><div style={{"marginLeft":"1rem"}}><SchemaItem collapsible={false} name={"query"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","example":"value"}}></SchemaItem></div></details></SchemaItem></div></details></SchemaItem><li><div style={{"fontSize":"var(--ifm-code-font-size)","opacity":"0.6","marginLeft":"-.5rem"}}>]</div></li></div></details></SchemaItem></div></details></SchemaItem></div></details></SchemaItem><SchemaItem collapsible={false} name={"groupBy"} required={false} schemaName={"string[]"} qualifierMessage={"**Possible values:** `<= 3`"} schema={{"type":"array","nullable":true,"description":"Specify 1-3 fields by which to group the results and count them. If you apply a group by operation, the rule returns a count of the results aggregated by unique values.","items":{"type":"string"},"maxItems":3,"minItems":0}}></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>aggregation</strong><span className={"openapi-schema__name"}> object</span></span></summary><div style={{"marginLeft":"1rem"}}><div style={{"marginTop":".5rem","marginBottom":".5rem"}}>

Specifies a trigger condition that acts as a threshold.

</div><SchemaItem collapsible={false} name={"aggregationType"} required={false} schemaName={"string"} qualifierMessage={"**Possible values:** [`SUM`, `MIN`, `MAX`, `AVG`, `COUNT`, `UNIQUE_COUNT`, `NONE`, `PERCENTAGE`, `PERCENTILE`]"} schema={{"type":"string","description":"Specifies the aggregation operator.\n\n* If `COUNT`, `fieldToAggregateOn` must be null, and `groupBy` fields must not be empty.\n* If `NONE`, `fieldToAggregateOn` must be null, and `groupBy` field must not be empty (or null).\n* If `PERCENTAGE`, `valueToAggregateOn` must be specified.\n\n* If any other operator type (other than `NONE` or `COUNT`), `fieldToAggregateOn` must not be null.","enum":["SUM","MIN","MAX","AVG","COUNT","UNIQUE_COUNT","NONE","PERCENTAGE","PERCENTILE"]}}></SchemaItem><SchemaItem collapsible={false} name={"fieldToAggregateOn"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"Selects the field on which to run the aggregation for the trigger condition.\n\n* Cannot be a field already in use for `groupBy`."}}></SchemaItem><SchemaItem collapsible={false} name={"valueToAggregateOn"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"Used by the `PERCENTAGE` aggregation to select the field’s value. This value is used to determine if its ratio out of the total amount of logs in the query satisfies the trigger condition.\n* Only relevant for the `PERCENTAGE` aggregation."}}></SchemaItem></div></details></SchemaItem><SchemaItem collapsible={false} name={"shouldQueryOnAllAccounts"} required={false} schemaName={"boolean"} qualifierMessage={undefined} schema={{"type":"boolean","default":true,"example":false,"description":"Only applicable when the rule is run from the main account. If `true`, the rule runs on the main account and all associated searchable sub accounts. If `false`, specify relevant account IDs for the rule to monitor using the `accountIdsToQueryOn` field."}}></SchemaItem><SchemaItem collapsible={false} name={"accountIdsToQueryOn"} required={false} schemaName={"int32[]"} qualifierMessage={undefined} schema={{"type":"array","description":"Specify Account IDs to select which accounts the rule should monitor. The rule will be checked only on these accounts.","items":{"type":"integer","format":"int32","example":2321}}}></SchemaItem></div></details></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>trigger</strong><span className={"openapi-schema__name"}> object</span></span></summary><div style={{"marginLeft":"1rem"}}><div style={{"marginTop":".5rem","marginBottom":".5rem"}}>

Sets the triggering threshold and severity tab to label the event when the rule triggers.

</div><SchemaItem collapsible={false} name={"operator"} required={false} schemaName={"string"} qualifierMessage={"**Possible values:** [`LESS_THAN`, `GREATER_THAN`, `LESS_THAN_OR_EQUALS`, `GREATER_THAN_OR_EQUALS`, `EQUALS`, `NOT_EQUALS`]"} schema={{"type":"string","enum":["LESS_THAN","GREATER_THAN","LESS_THAN_OR_EQUALS","GREATER_THAN_OR_EQUALS","EQUALS","NOT_EQUALS"],"example":"GREATER_THAN_OR_EQUALS","description":"Specifies the operator for evaluating the results."}}></SchemaItem><SchemaItem collapsible={false} name={"severityThresholdTiers"} required={false} schemaName={"object"} qualifierMessage={"**Possible values:** [`INFO`, `LOW`, `MEDIUM`, `HIGH`, `SEVERE`]"} schema={{"type":"object","description":"Sets a severity label per trigger threshold as a key:value pair.\n\nIf using more than one sub-component, only 1 severityThresholdTiers is allowed. Otherwise, 1 per `enum` are allowed (for a total of 5 thresholds of increasing severities).\n\nIncreasing severity must adhere to the logic of the operator.","enum":["INFO","LOW","MEDIUM","HIGH","SEVERE"],"default":{"MEDIUM":10},"example":{"MEDIUM":10,"HIGH":100,"SEVERE":300}}}></SchemaItem></div></details></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>output</strong><span className={"openapi-schema__name"}> object</span></span></summary><div style={{"marginLeft":"1rem"}}><div style={{"marginTop":".5rem","marginBottom":".5rem"}}>

Selects the data output to be sent in the notification when the rule triggers. Not applicable, when grouping by fields or aggregating results, as the output is auto-selected.

</div><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>columns</strong><span className={"openapi-schema__name"}> object[]</span></span></summary><div style={{"marginLeft":"1rem"}}><li><div style={{"fontSize":"var(--ifm-code-font-size)","opacity":"0.6","marginLeft":"-.5rem","paddingBottom":".5rem"}}>Array [</div></li><SchemaItem collapsible={false} name={"fieldName"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"Specify the fields to be included in the notification."}}></SchemaItem><SchemaItem collapsible={false} name={"regex"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"Trims the data using regex filters. [Learn more](https://docs.logz.io/user-guide/alerts/regex-filters.html)"}}></SchemaItem><SchemaItem collapsible={false} name={"sort"} required={false} schemaName={"string"} qualifierMessage={"**Possible values:** [`DESC`, `ASC`]"} schema={{"type":"string","description":"Specify a single field to sort by. The field cannot be an analyzed field (a field that supports free text search or searching by part of a message, such as the 'message' field).","enum":["DESC","ASC"]}}></SchemaItem><li><div style={{"fontSize":"var(--ifm-code-font-size)","opacity":"0.6","marginLeft":"-.5rem"}}>]</div></li></div></details></SchemaItem></div></details></SchemaItem><li><div style={{"fontSize":"var(--ifm-code-font-size)","opacity":"0.6","marginLeft":"-.5rem"}}>]</div></li></div></details></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>correlations</strong><span className={"openapi-schema__name"}> object</span></span></summary><div style={{"marginLeft":"1rem"}}><div style={{"marginTop":".5rem","marginBottom":".5rem"}}>

Only applicable when multiple sub-components are in use. Selects a logic for correlating the rule’s sub-components.

`AND` is currently the only supported operator. When `AND` is the `correlationOperator`, both sub-components must meet their triggering criteria for the rule to trigger.

</div><SchemaItem collapsible={false} name={"correlationOperators"} required={false} schemaName={"string[]"} qualifierMessage={"**Possible values:** [`AND`]"} schema={{"type":"array","items":{"type":"string","enum":["AND"]}}}></SchemaItem><SchemaItem collapsible={false} name={"joins"} required={false} schemaName={"object[]"} qualifierMessage={undefined} schema={{"type":"array","description":"Specifies which group by fields must have the same values to trigger the rule.\n\nJoins the group by fields from the first and second sub-components. The key represents the index of the sub component in the array (See the example - the index of the first sub-component is 0, the second is 1).\n\nThe fields must be ordered pairs of the group by fields already in use in the `queryDefinition`.","items":{"type":"object","example":{"0":"region","1":"region"}}}}></SchemaItem></div></details></SchemaItem><SchemaItem collapsible={false} name={"enabled"} required={false} schemaName={"boolean"} qualifierMessage={undefined} schema={{"type":"boolean","description":"If `true`, the alert is enabled and active."}}></SchemaItem><SchemaItem collapsible={false} name={"sendToAll"} required={false} schemaName={"boolean"} qualifierMessage={undefined} schema={{"type":"boolean","default":false,"description":"If `true`, a single email will be sent to all email addresses."}}></SchemaItem></ul></details></TabItem></MimeTabs><div><div><ApiTabs label={undefined} id={undefined}><TabItem label={"200"} value={"200"}><div>

successful operation

</div><div><MimeTabs className={"openapi-tabs__mime"} schemaType={"response"}><TabItem label={"application/json"} value={"application/json"}><SchemaTabs className={"openapi-tabs__schema"}><TabItem label={"Schema"} value={"Schema"}><details style={{}} className={"openapi-markdown__details response"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-response"}><strong>Schema</strong></summary><div style={{"textAlign":"left","marginLeft":"1rem"}}></div><ul style={{"marginLeft":"1rem"}}><SchemaItem collapsible={false} name={"id"} required={false} schemaName={"int32"} qualifierMessage={undefined} schema={{"type":"integer","format":"int32","description":"Logz.io rule ID.","example":627816}}></SchemaItem><SchemaItem collapsible={false} name={"updatedAt"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"Date and time in UTC when the rule was last updated.","example":"2020-04-02T18:58:16.000Z"}}></SchemaItem><SchemaItem collapsible={false} name={"updatedBy"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"Email of the user who last updated the rule.","example":"tomer@logz.io"}}></SchemaItem><SchemaItem collapsible={false} name={"createdAt"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"Date and time in UTC when the rule was first created.","example":"2020-02-02T18:58:16.000Z"}}></SchemaItem><SchemaItem collapsible={false} name={"createdBy"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"Email of the user who first created the rule.","example":"tomer@logz.io"}}></SchemaItem><SchemaItem collapsible={false} name={"enabled"} required={false} schemaName={"boolean"} qualifierMessage={undefined} schema={{"type":"boolean","description":"If `true`, the rule is currently active.","example":true}}></SchemaItem><SchemaItem collapsible={false} name={"title"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"Rule title.","example":"Excessive WARN levels in PROD"}}></SchemaItem><SchemaItem collapsible={false} name={"description"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"A description of the event, its significance, and suggested next steps or instructions for the team.","example":"Steps to remediate..."}}></SchemaItem><SchemaItem collapsible={false} name={"tags"} required={false} schemaName={"string[]"} qualifierMessage={undefined} schema={{"type":"array","items":{"type":"string"},"description":"Tags for filtering rules and triggered rules. Can be used in Kibana Discover, dashboards, and more.","example":["network","aws"]}}></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>output</strong><span className={"openapi-schema__name"}> object</span></span></summary><div style={{"marginLeft":"1rem"}}><div style={{"marginTop":".5rem","marginBottom":".5rem"}}>

Automatically sends out notifications with sample results when the rule triggers.

</div><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>recipients</strong><span className={"openapi-schema__name"}> object</span></span></summary><div style={{"marginLeft":"1rem"}}><div style={{"marginTop":".5rem","marginBottom":".5rem"}}>

Add email addresses and/or endpoint channels to automatically receive notifications with sample data when the rule triggers.

</div><SchemaItem collapsible={false} name={"emails"} required={false} schemaName={"string[]"} qualifierMessage={undefined} schema={{"type":"array","description":"Array of email addresses to be notified when the rule triggers.","items":{"type":"string","example":"tom.a@logz.io"}}}></SchemaItem><SchemaItem collapsible={false} name={"notificationEndpointIds"} required={false} schemaName={"int32[]"} qualifierMessage={undefined} schema={{"type":"array","description":"Array of IDs of pre-configured endpoint channels to notify when the rule triggers.","items":{"type":"integer","format":"int32"}}}></SchemaItem></div></details></SchemaItem><SchemaItem collapsible={false} name={"suppressNotificationsMinutes"} required={false} schemaName={"int32"} qualifierMessage={"**Possible values:** `>= 5` and `<= 1440`"} schema={{"type":"integer","format":"int32","minimum":5,"maximum":1440,"description":"Add a waiting period in minutes to space out notifications. (The rule will still trigger but will not send out notifications during the waiting period.)","example":60}}></SchemaItem><SchemaItem collapsible={false} name={"type"} required={false} schemaName={"string"} qualifierMessage={"**Possible values:** [`JSON`, `TABLE`]"} schema={{"type":"string","description":"Selects the output format for the rule notification. If the rule has no aggregations/group by fields, `JSON` offers the option to send full sample logs without selecting specific fields.","enum":["JSON","TABLE"]}}></SchemaItem></div></details></SchemaItem><SchemaItem collapsible={false} name={"searchTimeFrameMinutes"} required={false} schemaName={"int32"} qualifierMessage={"**Possible values:** `>= 5` and `<= 1440`"} schema={{"type":"integer","minimum":5,"maximum":1440,"format":"int32","description":"The time frame for evaluating the log data is a sliding window, with 1 minute granularity.\n\nThe recommended minimum and maximum values are not validated, but needed to guarantee the rule's accuracy.\n\nThe minimum recommended time frame is 5 minutes, as anything shorter will be less reliable and unnecessarily resource-heavy.\n\nThe maximum recommended time frame is 1440 minutes (24 hours). The rule runs on the index from today and yesterday (in UTC) and the maximum time frame increases throughout the day, reaching 48 hours exactly before midnight UTC."}}></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>subComponents</strong><span className={"openapi-schema__name"}> object[]</span></span></summary><div style={{"marginLeft":"1rem"}}><div style={{"marginTop":".5rem","marginBottom":".5rem"}}>

Determines when the rule should trigger using any combination of a search query, filters, group by aggregations, accounts to search, and trigger conditions.

</div><li><div style={{"fontSize":"var(--ifm-code-font-size)","opacity":"0.6","marginLeft":"-.5rem","paddingBottom":".5rem"}}>Array [</div></li><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>queryDefinition</strong><span className={"openapi-schema__name"}> object</span></span></summary><div style={{"marginLeft":"1rem"}}><div style={{"marginTop":".5rem","marginBottom":".5rem"}}>

Determines when the rule should trigger using any combination of a search query, filters, group by aggregations, accounts to search, and trigger conditions.

</div><SchemaItem collapsible={false} name={"query"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"Provide a Kibana search query written in Lucene syntax. The search query together with the filters select for the relevant logs.\n\nCannot be null - send an asterisk wildcard `*` if not using a search query.","default":"*","nullable":false,"example":"type:apache_access"}}></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>filters</strong><span className={"openapi-schema__name"}> object</span></span></summary><div style={{"marginLeft":"1rem"}}><div style={{"marginTop":".5rem","marginBottom":".5rem"}}>

Apply `must` and `must_not` filters to the monitoring alert. Filters are more efficient compared to a query, so it's recommended to opt for a filter over a query, where possible. See [Elasticsearch Bool-Query](https://www.elastic.co/guide/en/elasticsearch/reference/6.8/query-dsl-bool-query.html) for more detail.

</div><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>bool</strong><span className={"openapi-schema__name"}> object</span></span></summary><div style={{"marginLeft":"1rem"}}><div style={{"marginTop":".5rem","marginBottom":".5rem"}}>

Runs Elasticsearch [Bool Query](https://www.elastic.co/guide/en/elasticsearch/reference/6.8/query-dsl-bool-query.html) filters on the data (before the search query is applied). The most efficient way to grab the logs you are looking for.

</div><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>must</strong><span className={"openapi-schema__name"}> object[]</span></span></summary><div style={{"marginLeft":"1rem"}}><li><div style={{"fontSize":"var(--ifm-code-font-size)","opacity":"0.6","marginLeft":"-.5rem","paddingBottom":".5rem"}}>Array [</div></li><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>match_phrase</strong><span className={"openapi-schema__name"}> object</span></span></summary><div style={{"marginLeft":"1rem"}}><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>Field</strong><span className={"openapi-schema__name"}> object</span></span></summary><div style={{"marginLeft":"1rem"}}><SchemaItem collapsible={false} name={"query"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","example":"value"}}></SchemaItem></div></details></SchemaItem></div></details></SchemaItem><li><div style={{"fontSize":"var(--ifm-code-font-size)","opacity":"0.6","marginLeft":"-.5rem"}}>]</div></li></div></details></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>must_not</strong><span className={"openapi-schema__name"}> object[]</span></span></summary><div style={{"marginLeft":"1rem"}}><li><div style={{"fontSize":"var(--ifm-code-font-size)","opacity":"0.6","marginLeft":"-.5rem","paddingBottom":".5rem"}}>Array [</div></li><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>match_phrase</strong><span className={"openapi-schema__name"}> object</span></span></summary><div style={{"marginLeft":"1rem"}}><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>Field</strong><span className={"openapi-schema__name"}> object</span></span></summary><div style={{"marginLeft":"1rem"}}><SchemaItem collapsible={false} name={"query"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","example":"value"}}></SchemaItem></div></details></SchemaItem></div></details></SchemaItem><li><div style={{"fontSize":"var(--ifm-code-font-size)","opacity":"0.6","marginLeft":"-.5rem"}}>]</div></li></div></details></SchemaItem></div></details></SchemaItem></div></details></SchemaItem><SchemaItem collapsible={false} name={"groupBy"} required={false} schemaName={"string[]"} qualifierMessage={"**Possible values:** `<= 3`"} schema={{"type":"array","nullable":true,"description":"Specify 1-3 fields by which to group the results and count them. If you apply a group by operation, the rule returns a count of the results aggregated by unique values.","items":{"type":"string"},"maxItems":3,"minItems":0}}></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>aggregation</strong><span className={"openapi-schema__name"}> object</span></span></summary><div style={{"marginLeft":"1rem"}}><div style={{"marginTop":".5rem","marginBottom":".5rem"}}>

Specifies a trigger condition that acts as a threshold.

</div><SchemaItem collapsible={false} name={"aggregationType"} required={false} schemaName={"string"} qualifierMessage={"**Possible values:** [`SUM`, `MIN`, `MAX`, `AVG`, `COUNT`, `UNIQUE_COUNT`, `NONE`, `PERCENTAGE`, `PERCENTILE`]"} schema={{"type":"string","description":"Specifies the aggregation operator.\n\n* If `COUNT`, `fieldToAggregateOn` must be null, and `groupBy` fields must not be empty.\n* If `NONE`, `fieldToAggregateOn` must be null, and `groupBy` field must not be empty (or null).\n* If `PERCENTAGE`, `valueToAggregateOn` must be specified.\n\n* If any other operator type (other than `NONE` or `COUNT`), `fieldToAggregateOn` must not be null.","enum":["SUM","MIN","MAX","AVG","COUNT","UNIQUE_COUNT","NONE","PERCENTAGE","PERCENTILE"]}}></SchemaItem><SchemaItem collapsible={false} name={"fieldToAggregateOn"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"Selects the field on which to run the aggregation for the trigger condition.\n\n* Cannot be a field already in use for `groupBy`."}}></SchemaItem><SchemaItem collapsible={false} name={"valueToAggregateOn"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"Used by the `PERCENTAGE` aggregation to select the field’s value. This value is used to determine if its ratio out of the total amount of logs in the query satisfies the trigger condition.\n* Only relevant for the `PERCENTAGE` aggregation."}}></SchemaItem></div></details></SchemaItem><SchemaItem collapsible={false} name={"shouldQueryOnAllAccounts"} required={false} schemaName={"boolean"} qualifierMessage={undefined} schema={{"type":"boolean","default":true,"example":false,"description":"Only applicable when the rule is run from the main account. If `true`, the rule runs on the main account and all associated searchable sub accounts. If `false`, specify relevant account IDs for the rule to monitor using the `accountIdsToQueryOn` field."}}></SchemaItem><SchemaItem collapsible={false} name={"accountIdsToQueryOn"} required={false} schemaName={"int32[]"} qualifierMessage={undefined} schema={{"type":"array","description":"Specify Account IDs to select which accounts the rule should monitor. The rule will be checked only on these accounts.","items":{"type":"integer","format":"int32","example":2321}}}></SchemaItem></div></details></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>trigger</strong><span className={"openapi-schema__name"}> object</span></span></summary><div style={{"marginLeft":"1rem"}}><div style={{"marginTop":".5rem","marginBottom":".5rem"}}>

Sets the triggering threshold and severity tab to label the event when the rule triggers.

</div><SchemaItem collapsible={false} name={"operator"} required={false} schemaName={"string"} qualifierMessage={"**Possible values:** [`LESS_THAN`, `GREATER_THAN`, `LESS_THAN_OR_EQUALS`, `GREATER_THAN_OR_EQUALS`, `EQUALS`, `NOT_EQUALS`]"} schema={{"type":"string","enum":["LESS_THAN","GREATER_THAN","LESS_THAN_OR_EQUALS","GREATER_THAN_OR_EQUALS","EQUALS","NOT_EQUALS"],"example":"GREATER_THAN_OR_EQUALS","description":"Specifies the operator for evaluating the results."}}></SchemaItem><SchemaItem collapsible={false} name={"severityThresholdTiers"} required={false} schemaName={"object"} qualifierMessage={"**Possible values:** [`INFO`, `LOW`, `MEDIUM`, `HIGH`, `SEVERE`]"} schema={{"type":"object","description":"Sets a severity label per trigger threshold as a key:value pair.\n\nIf using more than one sub-component, only 1 severityThresholdTiers is allowed. Otherwise, 1 per `enum` are allowed (for a total of 5 thresholds of increasing severities).\n\nIncreasing severity must adhere to the logic of the operator.","enum":["INFO","LOW","MEDIUM","HIGH","SEVERE"],"default":{"MEDIUM":10},"example":{"MEDIUM":10,"HIGH":100,"SEVERE":300}}}></SchemaItem></div></details></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>output</strong><span className={"openapi-schema__name"}> object</span></span></summary><div style={{"marginLeft":"1rem"}}><div style={{"marginTop":".5rem","marginBottom":".5rem"}}>

Selects the data output to be sent in the notification when the rule triggers. Not applicable, when grouping by fields or aggregating results, as the output is auto-selected.

</div><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>columns</strong><span className={"openapi-schema__name"}> object[]</span></span></summary><div style={{"marginLeft":"1rem"}}><li><div style={{"fontSize":"var(--ifm-code-font-size)","opacity":"0.6","marginLeft":"-.5rem","paddingBottom":".5rem"}}>Array [</div></li><SchemaItem collapsible={false} name={"fieldName"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"Specify the fields to be included in the notification."}}></SchemaItem><SchemaItem collapsible={false} name={"regex"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"Trims the data using regex filters. [Learn more](https://docs.logz.io/user-guide/alerts/regex-filters.html)"}}></SchemaItem><SchemaItem collapsible={false} name={"sort"} required={false} schemaName={"string"} qualifierMessage={"**Possible values:** [`DESC`, `ASC`]"} schema={{"type":"string","description":"Specify a single field to sort by. The field cannot be an analyzed field (a field that supports free text search or searching by part of a message, such as the 'message' field).","enum":["DESC","ASC"]}}></SchemaItem><li><div style={{"fontSize":"var(--ifm-code-font-size)","opacity":"0.6","marginLeft":"-.5rem"}}>]</div></li></div></details></SchemaItem></div></details></SchemaItem><li><div style={{"fontSize":"var(--ifm-code-font-size)","opacity":"0.6","marginLeft":"-.5rem"}}>]</div></li></div></details></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>correlations</strong><span className={"openapi-schema__name"}> object</span></span></summary><div style={{"marginLeft":"1rem"}}><div style={{"marginTop":".5rem","marginBottom":".5rem"}}>

Only applicable when multiple sub-components are in use. Selects a logic for correlating the rule’s sub-components.

`AND` is currently the only supported operator. When `AND` is the `correlationOperator`, both sub-components must meet their triggering criteria for the rule to trigger.

</div><SchemaItem collapsible={false} name={"correlationOperators"} required={false} schemaName={"string[]"} qualifierMessage={"**Possible values:** [`AND`]"} schema={{"type":"array","items":{"type":"string","enum":["AND"]}}}></SchemaItem><SchemaItem collapsible={false} name={"joins"} required={false} schemaName={"object[]"} qualifierMessage={undefined} schema={{"type":"array","description":"Specifies which group by fields must have the same values to trigger the rule.\n\nJoins the group by fields from the first and second sub-components. The key represents the index of the sub component in the array (See the example - the index of the first sub-component is 0, the second is 1).\n\nThe fields must be ordered pairs of the group by fields already in use in the `queryDefinition`.","items":{"type":"object","example":{"0":"region","1":"region"}}}}></SchemaItem></div></details></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>schedule</strong><span className={"openapi-schema__name"}> object</span></span></summary><div style={{"marginLeft":"1rem"}}><div style={{"marginTop":".5rem","marginBottom":".5rem"}}>

Defines the intervals in which an alert will be evaluated. This feature is still in production, but the payload already contains the data.

</div><SchemaItem collapsible={false} name={"cronExpression"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"Cron job for the intervals schedule."}}></SchemaItem><SchemaItem collapsible={false} name={"timezone"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"Time zone for the cron job. If no time zone is selected, UTC will be used by default."}}></SchemaItem></div></details></SchemaItem></ul></details></TabItem><TabItem label={"Example (from schema)"} value={"Example (from schema)"}><ResponseSamples responseExample={"{\n  \"id\": 627816,\n  \"updatedAt\": \"2020-04-02T18:58:16.000Z\",\n  \"updatedBy\": \"tomer@logz.io\",\n  \"createdAt\": \"2020-02-02T18:58:16.000Z\",\n  \"createdBy\": \"tomer@logz.io\",\n  \"enabled\": true,\n  \"title\": \"Excessive WARN levels in PROD\",\n  \"description\": \"Steps to remediate...\",\n  \"tags\": [\n    \"network\",\n    \"aws\"\n  ],\n  \"output\": {\n    \"recipients\": {\n      \"emails\": [\n        \"tom.a@logz.io\"\n      ],\n      \"notificationEndpointIds\": [\n        0\n      ]\n    },\n    \"suppressNotificationsMinutes\": 60,\n    \"type\": \"JSON\"\n  },\n  \"searchTimeFrameMinutes\": 0,\n  \"subComponents\": [\n    {\n      \"queryDefinition\": {\n        \"query\": \"type:apache_access\",\n        \"filters\": {\n          \"bool\": {\n            \"must\": [\n              {\n                \"match_phrase\": {\n                  \"Field\": {\n                    \"query\": \"value\"\n                  }\n                }\n              }\n            ],\n            \"must_not\": [\n              {\n                \"match_phrase\": {\n                  \"Field\": {\n                    \"query\": \"value\"\n                  }\n                }\n              }\n            ]\n          }\n        },\n        \"groupBy\": [\n          \"string\"\n        ],\n        \"aggregation\": {\n          \"aggregationType\": \"SUM\",\n          \"fieldToAggregateOn\": \"string\",\n          \"valueToAggregateOn\": \"string\"\n        },\n        \"shouldQueryOnAllAccounts\": false,\n        \"accountIdsToQueryOn\": [\n          2321\n        ]\n      },\n      \"trigger\": {\n        \"operator\": \"GREATER_THAN_OR_EQUALS\",\n        \"severityThresholdTiers\": {\n          \"MEDIUM\": 10,\n          \"HIGH\": 100,\n          \"SEVERE\": 300\n        }\n      },\n      \"output\": {\n        \"columns\": [\n          {\n            \"fieldName\": \"string\",\n            \"regex\": \"string\",\n            \"sort\": \"DESC\"\n          }\n        ]\n      }\n    }\n  ],\n  \"correlations\": {\n    \"correlationOperators\": [\n      \"AND\"\n    ],\n    \"joins\": [\n      {\n        \"0\": \"region\",\n        \"1\": \"region\"\n      }\n    ]\n  },\n  \"schedule\": {\n    \"cronExpression\": \"string\",\n    \"timezone\": \"string\"\n  }\n}"} language={"json"}></ResponseSamples></TabItem></SchemaTabs></TabItem></MimeTabs></div></TabItem></ApiTabs></div></div>
