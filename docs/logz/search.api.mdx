---
id: search
title: "Search logs"
description: "Searches your account data using the [Elasticsearch Search API DSL](https://www.elastic.co/guide/en/elasticsearch/reference/6.8/search.html) query language."
sidebar_label: "Search logs"
hide_title: true
hide_table_of_contents: true
api: eJztWuluHLm1fhWiBriSdXuTt8wImUkUjyYRYsuGpckkkIRudhW7u0bVxQ7JUrtHEHD/3kfI/zxZniTfOSRrkbrtLAP/SWRYqmKRh2ffyLtEr5SRLtflaZYcJVZJky6SXpIpm5p8RR8wfM7DyoqNroyQaaqr0olMOikqm5dz4RZKXJ4U0ro89TCEXyOO352Kb89fX+8vnFvZo+FwvV4PlJ85SPVwXuWZGqpyqNqrh0bNlFFlqoYvB18O/eBg4ZbFE/HnSpmNKGQ5r+RcDcRVeVUeHDjtZHF0cCAuFrkVqSwKYZSrTGlFtRJOi8PeaDTCmK0KZwWoDoBmGhTN50bNpVNZnNATGD4cddbQzFKX/cezIxJn2inGQQtV2sooYVcK02SJ/7cyL+Q0L3K3EXrmWVnoObZaKwLkTJ46YfVSCc2Mx45GL5m3XdZmaiYZI7eQTkAYRSYWckk02Y11aknkAdulBAMH4n2AzSAlkPLCnQKxde4WtEFuCIOVwqRbJVShlqoE/Kkq9HoAdXBybpOjy6AIjHZy3UtW0silcsrQx7skJ11hrmJJiS94zeTm7WxmlcOQhQ4tZXJ091C9CugA0/m0j/kikOlysMJAzkpMN2L8YQyN24DX30EO6gPoLVRP5DNMdyTgyYtJLy6Noq9FR4x8weshbM0CeV6/9sT3F68GV+UFMJjUCE9ETR74BH3CuqlMb2gvwpVEIvIyUx/wm0cIkVtZVIrhW4VffsFC1ZhA8iw1v/B/DwekOceFW+hqvujY1x6h7yAHMIkEmutM5LU2e+x7AkyQVkEvnfKAG4OsKQn6JIp8mbPWqJrFYIUopTF6DSqJ4TMi2fM4L60jDSKuOkdQG4hY+CIAUd4ySCdI3dN8lpP5baA9bq1U+TG+k/4F5ulbOCJw+fA568BD0plPp42wRxOy0MnhY5kH66g5vu80AaStN7AEZfDGEn9Cmr3My3xZLZOjEbR8syKVzUun5sok9/e97TodBHSa2Y8o9em3XtbgdTWtfSZQD85M/GYTUYWzKcEvR54rTsRjYK8n/VgsJTgVP6eyjHTLzgbSQhIQFf7mDl7Bi9vk84UjTi5za8kPDMhHzcnYA5TWt6jg7Q17JF/W823fINkwfvlGlvDK8ZNt/L5crQaA8dMg18Mvhpm0i6mWJhsG3bLDJa/sx5VPYH5z6J43pQKuSRwceP8jp4VqfGMbFfhe0kUaJinCxrI2d5iTIDwv06KCy1mC+TksqEa3B61ZKVgRy6KxfwKqJDE7sHl/1jihIzFpNOLrF6PR/7ReX45GkycDHx5OlyttYFJA80iccgioUZGNbMkodOW2C64XvAlU0jrvl2YILNE82iC7NPiFaWUQVl2zly73HCy1VjZRlYWyHOlB36rI09xBNyPM3EVnxzbBsWGX1SyUzDBQm80f+68h/776AGxKWSDh6CVESG4Uco+ZLKxqm1OAS7GrnD9KSd6rFQycoxRhU5U5EBKII3AaszyITIJe6xBRzUC8wRO5SVCVUkx+9lJAk4xMKXwRUYUq524xAAHXHi8w+Dc62xAuqSZtcvQIPQZTOGUa/mgJl7vHSOvpj1DYDn2XwYtQ2DSUdblcWVrih7es7RJ8EXnOtu/kDenMJvqYJhK3onuQ1EcTM5HptKJozxT9jGlaTC2Y3yGfQTyhrMmnFVflF/gRryko8eYWNiJ+WCBi+Bg2YXLHXgHg5ycID3o9RsDLMDCG7mcpPMgEZmyDDvvYwKo0IWiTZhK4Bk0HBsZbmJgc+BDyK575ij+TnMmdTGbVTz9txkv5YQwjkCWbHqHwaIQg0GBGzKdg8pPKxkynnZBNMo2UFyL0l53QW2c3tH07GHAS4EVtqpLXcapN2i52BTOwU4g/wWhJO5YIpt78n/YRi+EHpeGoukbaodeUTjVpQjvj8bvWyuT9lqjT/+iZpJgQ+iBzuZqIWV7UOZIPwk1+9FTE/UO+8hDVwA2NFaY7V+z7VOepkLQjbfgkoC3jnoGlLWzIIwW/TDY11bqgv6QinKMyx2nk1/Uaeps7Mr1Sr/svloBQxFd4g/tr/O8lFG9aVhrdXTeDCDIMz23zfTvrpIEzeN/Mu+RZbmzMVohez8IOHSPsb6FZW/fv7nNWLafEmFm9VQ0yaeGH0iaB2nrEE1/oPNoRwaq1I7JEuXm03zYb9rZEy0W7uCJpIcYXG5gIqFZFBn2wFUVV78QnEIhF0J/4r9grRzFjH/tGksfYwkxS9Y85Tv9JTEIYs5OYqUKpKfISacQz72tiHrthXWt99ki3hETUhqirwQIxCVhNmvQkRBIkMhSqPQAqwjwEzu5qGCuJyDvZC0D2joT3ZD0Ku2xe8KUhtKv2XgS1vaMvSpOHkSZS/0mhHu8iuK0il0kQF4W0KCg2lYdS2xHCv2O0Wxp/34LOlGNgpa0be2v/tKiPo1/gIE2F94zeiClRCzkOLST845RqE3ictCooKg3E91bNqoITB6Oio6E/RYy8wLVeAM/FFYuAQ1xVzjtHkeUzjoguYEJAgCA9yQEcqdoWkTm4/hyhtx+UrU9c63sMQjgmqhCjkCrajmspq6IAm5EFcOU69hL/pIa8o4KR0ibwwHGqgXIWxA7EMQVpywwj6wLLCq1vuGxtBT/ESkpPQtpGrgJAipzi+EY0rvkzsixyoO85sJ1tOzT7vmMWrchyjS/gkM19nhhWUVBSstyS0/oKVoqwpqk7vE1/RnYEDLaxgUKD00hqdyhLy5E+IrFlY2xSZB/0Eh0NdTAyXf7t//7iyIiBU8xig7cLzu7h+kIaRMM6mbWkRhnHHGpruEJ9RtZ55nxUj1racsBKskCdV1Ct92kn97s4tY5W4JAumdQldo68xChnknV7JLQqPxsfaprIL2zXo7ZX/gfcO7z6JihAe+VnoKmz3WNa6kx/dzXDIZuSuEnsr/r0zzcMYwnzt///q5gcIhlrFSWl4kQ6indapTcodDoBzVeBFkwAA+0R5fROjVEAOD1HLk+Vy1zphbSL8dzkGb13PuarMSfGXOPYfF5yE690Y3LUPOgffsbsjkAdNzQw5tv25lpnwp2aOOJLOXCrsirrdt5jWYEvqBfnc+trvDazJhEhr0jcnOjWDJsLVkOoI+1HDz4fPfL6GXPxF/fhp13mO1MpHrAr7OVzrafIrR/1B8GaFAwhb+hbKSQSR9gZr8t8oiHKOp/nBis7yKV06aJpwvTEepFjgDNEWaypdpqq6DdH/aeCG6okX2zCYJtdZOoqbNMAb+emANzR3852NJH6KdxVpqp+EyI89erw3hS45PH+5Q5KLZjkjurGq4S4dJUcCX6lAaaIRp49++rl6HkvjlNZblOYDH0bDUb1hwjhUlzT0H3PA24rSWcDrxCtIRpEqBlzD22sjNFmXCFamfGU6jrer9dMtdVyzAXuuF5EU54///IXX7WmecP2mMVR0WzpJ92oDU24StZq2gcnr5Jed0Jni8OXz15+NWom3Pd2wiNG9a0yt3mqPg705fMvv3rWghkfr/0Dv+PXfRKMY6ncQpP1UFZKRYl0C7wNbw+H9XkjbRyPkSpTUPew7hvnsW/8OJs4FyfUZdg/gzcCf0vxh9zMUY/LJwm1IR9B6stqJ7Bjm0vxTvL5hdg/32Sl2uwCk8qdYOAeZSbF/itoO8qDXRDUbkROKqraxP53MJ6bWWXcLhhlsRPGDxQzIqAzRcwp4EjtLlDVzSfRea1LZGa7AKx3c4Rxgaieiv0fEIHgTBzDuSaxpxWqow3L/Y/943en/Yu3vz85w/t1+/s5uQfvTDuzHjrVugHmTyE4/6FGp9M3qn2eevna49r6+M+fVPh1RL0/q/DnNM1u5CBDn70fD8YGHKHYU5fUhUZ5BFeN3eZcRIVTFAMfeosQKICm8CcqlDBQKDs/PXnTPk26zdWa17Q3tlanObdauSjN64OP7XyJhzsPd6/PokImGZm2Qv1Lx8s9kcKR+/PNeStVd3rV9wcXwLrqHOFcHhxcoPqx4ptAV8T5mxY+Bwf/ljD8WQidn+bxwIU4daPUytMRtmTlQkhscS5FAbMRK5Pf5oWa+/J1Sa32dMHpEb0jtTDWH+nXp0ZW00E0tXCmqsjVLZ/n1HD5GM63G/RyBR3Mkbf0kDwWytGRiueQUeBrqnyvx9G5XkmiZQBRAtz1MyENbc5eQPXvFRXpO85dGoshf0wx931zvnHSZD71UcTP1DaNXdNRTJlGsat4eUfmXffwwuFPp9lDnYktjYlufd0qrynzelSZcn3VLa+2lB3/VMZHXJ7px77nC3EKj6+zim9a0G2C3LIO4E+sS+l8rc6mDg7erhQ7jKeDEXLX+vCc1g8E9S3jhPP2J2otKYIKpmlxGS6W0JEoVSR6XRZaZo0FYW9bmxA0ZUjPue6vqimst0/xdUP1DCoYcVw5vZQe/+hLpR9DjQLpUCIanIcNpNDr5QWSIEk+Acajb1FXmR0ItDV46OKqoTdaIBBcDsSTc0GRMQu/f/+a/dcsp4OP9iUkPxEWiMIhnE9HN0WLufck/VkqgEQPJbPM0CnnVBr2yCbuUp+YW9iOcGvdh41SDzHVWbhgQVZuldoCyqfL+L5nWj6dKfsuVm+kO8azuMdgLrsk72AbOZ2+L1ij14kPfb/QV6WRjRVQK11QGH+zpR3ySHlqtQHL3hnPrhNIx8D9oXqCMyrp7NwfJho7qGuruSrpzpi/5RKcWMuHRl9Vx9iA57/v078Q72lbLjgwzwdbvurl/acvuQTh5qNvLE3owsxoRKd78fybVoY+hb8MFm8I0L0IuJR8tvFUmHpHK7gx7A/eW/GApxG36ss4fIqYuq6iepqMCNcTfikRPBGov77ioxyDyNAvZFWmi6tELIyafU0FDFyhPlqoYvXrwK+r5JtX4UhbnPsKUlwoufzlUH5DJ6riFUUYxXcFrsrWC18oQY3iO62eX9hz6e9I8GE5+BgZ6u+HqJL1I21BoYmed6G+7ZEB+HJaU+eXPEJkkg9ER1fl7/hBnMGmjsjE1cr1T0qYFM0OH/9AXv6ITkGpu94T8FGrRxScX7x/e/bb138S709evX3z5uTs25NvGac9f0a5x5TtnacGyOyxl0KcrVS4npJDUJrvFfEFJW4aNnpDPt5HVWoYwqO3LIZGKTS8nZ37EqmV/ta+FcWf61fs1pa2r2d4VsNQ+0IfKGQokinH6EammNHNpzuWT20y+GkYAgeoENOPVzKl+3KDUWd1aHJJ/jrQZj4MS+3w9emrk7Pzkz6WsKtI2q3pJAlHLdDS1i7t634PsvrWnYj/Xg/9j78e6tNQpz64ITwhstD7oJV3odq/TG4Pucznep8yMs2ZZXJ3N4XL/N4U9/c0HDJQZJxZbsn7NDeDbpDhdu+TcmLolXfn/M5dvWYBJY7S5LSCa81ezJq3br1T83fR7vfeduGpg7Of9sqD61/4VDPOeNQma1Z4F/rRudetvsu7t+cXmDwNl5mWSGUwauSaLijh91FyhX94CYpFk3j8Lol2hDkeLv38HeRyOQo=
sidebar_class_name: "post api-method"
info_path: docs/logz/logz-io-api
custom_edit_url: null
hide_send_button: true
---

import ApiTabs from "@theme/ApiTabs";
import DiscriminatorTabs from "@theme/DiscriminatorTabs";
import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import SecuritySchemes from "@theme/ApiExplorer/SecuritySchemes";
import MimeTabs from "@theme/MimeTabs";
import ParamsItem from "@theme/ParamsItem";
import ResponseSamples from "@theme/ResponseSamples";
import SchemaItem from "@theme/SchemaItem";
import SchemaTabs from "@theme/SchemaTabs";
import TabItem from "@theme/TabItem";

<h1 className={"openapi__heading"}>Search logs</h1>

<MethodEndpoint method={"post"} path={"/v1/search"}></MethodEndpoint>



Searches your account data using the [Elasticsearch Search API DSL](https://www.elastic.co/guide/en/elasticsearch/reference/6.8/search.html) query language. 

**total:** This call returns up to 1,000 results per query for aggregated results, or 10,000 results for non-aggregated results. 

**Note:** To ensure speed and availability of your logs, we restrict some options from the Elasticsearch defaults that could hamper system performance. Restrictions are described with their respective elements below.

## Request

<details style={{"marginBottom":"1rem"}} className={"openapi-markdown__details"} data-collapsed={false} open={true}><summary style={{}}><h3 className={"openapi-markdown__details-summary-header-params"}>Query Parameters</h3></summary><div><ul><ParamsItem className={"paramsItem"} param={{"in":"query","name":"dayOffset","schema":{"description":"Slide the 2-day search time range by _x_ days. For example, if set to `5`, search returns results from 5 days ago and 4 days ago, UTC.\nThe `dayOffset` parameter will go back to the last index in the set value and send back the results of that index +1.\n\nAlthough your account's retention period is up to 14 days, please note that using the dayOffset option limits the search to a narrower timeframe. For instance, setting dayOffset to 5 searches for logs specifically between 5 days ago and 4 days ago, within the overall 14-day retention period.\n\nIf set to `0` or `1`, search returns default results (today and yesterday, UTC).","minimum":0,"type":"integer"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"in":"query","name":"accountIds","schema":{"description":"ID of the sub account to search. By default, only this account is searched.\n\nA main account can search a sub account as long as it has the right permissions. To give search permissions to the main account, log in to the main account, go to the [Manage accounts](https://app.logz.io/#/dashboard/settings/manage-accounts) page, and select **Searchable from the main account** for the intended sub account.\n\nTo include multiple accounts, repeat this parameter for each account (for example: `accountIds=500&accountIds=600`).\n\n**Important**: If you include an account without the right permissions, the request will fail.\n\nIf you include this parameter, the current account won't be searched unless you explicitly include it in the query.","type":"integer"}}}></ParamsItem></ul></div></details><details style={{"marginBottom":"1rem"}} className={"openapi-markdown__details"} data-collapsed={false} open={true}><summary style={{}}><h3 className={"openapi-markdown__details-summary-header-params"}>Header Parameters</h3></summary><div><ul><ParamsItem className={"paramsItem"} param={{"in":"header","name":"X-Logz-externalId","required":false,"schema":{"type":"string","description":"Represents the unique identifier for a customer. Must not exceed 36 characters in length."}}}></ParamsItem></ul></div></details><MimeTabs className={"openapi-tabs__mime"}><TabItem label={"application/json"} value={"application/json-schema"}><details style={{}} className={"openapi-markdown__details mime"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-mime"}><h3 className={"openapi-markdown__details-summary-header-body"}>Body</h3><strong className={"openapi-schema__required"}>required</strong></summary><div style={{"textAlign":"left","marginLeft":"1rem"}}></div><ul style={{"marginLeft":"1rem"}}><SchemaItem collapsible={false} name={"query"} required={true} schemaName={"object"} qualifierMessage={undefined} schema={{"type":"object","description":"The query can take any of the parameters described in the [Elasticsearch Search API DSL documentation](https://www.elastic.co/guide/en/elasticsearch/reference/6.8/search.html) with the exceptions stated below.\n#### Limitations\n* When using `query_string`, `allow_leading_wildcard` must be set to `false`\n* `wildcard` can't start with `*` or `?`\n* Can't contain `fuzzy_max_expansions`, `max_expansions`, or `max_determinized_states`\n\n#### Notes on the search time range\n* By default, your query runs on data sent today and yesterday, UTC.\n  You can move this 2-calendar-day window by using the `dayOffset` query parameter.\n\n* Searches without a `timestamp` filter will return the last 2 calendar days, UTC.\n  You can search other calendar days (up to 2 at a time) using a filter on the `timestamp`.","example":{"bool":{"must":[{"range":{"@timestamp":{"gte":"now-5m","lte":"now"}}}]}}}}></SchemaItem><SchemaItem collapsible={false} name={"from"} required={false} schemaName={"integer"} qualifierMessage={undefined} schema={{"type":"integer","minimum":0,"default":0,"description":"Of the results found, the first result to return.","example":0}}></SchemaItem><SchemaItem collapsible={false} name={"size"} required={false} schemaName={"integer"} qualifierMessage={"**Possible values:** `<= 10,000`"} schema={{"type":"integer","description":"Number of results to return","default":10,"maximum":"10,000","example":0}}></SchemaItem><SchemaItem collapsible={false} name={"sort"} required={false} schemaName={"object[]"} qualifierMessage={undefined} schema={{"type":"array","description":"#### Limitations\n* Can't sort or aggregate on analyzed fields, such as the `message` field","items":{"type":"object"}}}></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>_source</strong><span className={"openapi-schema__name"}> string[]</span></span></summary><div style={{"marginLeft":"1rem"}}><div style={{"marginTop":".5rem","marginBottom":".5rem"}}>

The object `includes` specifies an array of strings specifying an array of fields to return.
* If you omit `_source` from the request, all fields are returned.
* If you pass `'_source': false`, it will exclude the `_source` field from the results.

</div><SchemaItem collapsible={false} name={"includes"} required={false} schemaName={"undefined[]"} qualifierMessage={undefined} schema={{"type":"array","description":"Array of fields to return","example":["message"],"items":{}}}></SchemaItem><li><div style={{"fontSize":"var(--ifm-code-font-size)","opacity":"0.6","marginLeft":"-.5rem","paddingBottom":".5rem"}}>Array [</div></li><div style={{"marginTop":".5rem","marginBottom":".5rem","marginLeft":"1rem"}}>

string

</div><li><div style={{"fontSize":"var(--ifm-code-font-size)","opacity":"0.6","marginLeft":"-.5rem"}}>]</div></li></div></details></SchemaItem><SchemaItem collapsible={false} name={"post_filter"} required={false} schemaName={"object"} qualifierMessage={undefined} schema={{"type":"object","description":"A filter applied after the aggregations have been calculated. Useful for reusing a single query to calculate several outputs with different filtering criteria. See the [Elasticsearch guide](https://www.elastic.co/guide/en/elasticsearch/reference/6.8/search-request-post-filter.html) for details.","example":null}}></SchemaItem><SchemaItem collapsible={false} name={"docvalue_fields"} required={false} schemaName={"string[]"} qualifierMessage={undefined} schema={{"type":"array","description":"Powers inverted indexing. Allows queries to look up the search term in unique sorted list by @timestamp. See the [Elasticsearch guide](https://www.elastic.co/guide/en/elasticsearch/reference/6.8/search-request-docvalue-fields.html) for details.","items":{"type":"string"},"example":["@timestamp"]}}></SchemaItem><SchemaItem collapsible={false} name={"version"} required={false} schemaName={"boolean"} qualifierMessage={undefined} schema={{"type":"boolean","description":"Returns a version for each result. See the [Elasticsearch guide](https://www.elastic.co/guide/en/elasticsearch/reference/6.8/search-request-version.html) for details."}}></SchemaItem><SchemaItem collapsible={false} name={"stored_fields"} required={false} schemaName={"array of strings"} qualifierMessage={undefined} schema={{"type":"array of strings","description":"Useful for querying for fields that don’t appear in the _source field or querying for larger documents by date or title. See the [Elasticsearch guide](https://www.elastic.co/guide/en/elasticsearch/reference/6.8/search-request-stored-fields.html) for details.","example":["*"]}}></SchemaItem><SchemaItem collapsible={false} name={"highlight"} required={false} schemaName={"object"} qualifierMessage={undefined} schema={{"type":"object","description":"Highlight strings in one or more fields in your search results. See the [Elasticsearch guide](https://www.elastic.co/guide/en/elasticsearch/reference/6.8/search-request-highlighting.html) for details."}}></SchemaItem><SchemaItem collapsible={false} name={"aggregations"} required={false} schemaName={"object"} qualifierMessage={undefined} schema={{"type":"object","description":"Apply field aggregations. See the [Elasticsearch guide](https://www.elastic.co/guide/en/elasticsearch/reference/6.8/search-aggregations.html) for details.\n\n#### Limitations\n* When using the `size` element, the value must be ≤ `1000`\n* Can't nest 2 or more bucket aggregations of these types: `date_histogram`, `geohash_grid`, `histogram`, `ip_ranges`, `significant_terms`, `terms`\n* Can't sort or aggregate on analyzed fields, such as the `message` field\n* Aggregation type `significant_terms` and `multi_terms` can't be used\n\n**Note:** You can use `aggs` or `aggregations` as the field name","example":{"byType":{"terms":{"field":"type","size":5}}}}}></SchemaItem></ul></details></TabItem></MimeTabs><div><div><ApiTabs><TabItem label={"200"} value={"200"}><div>

successful query. `hits` are the total number of logs that match the query, which will always be in the 0-2 day range. `total` are the actual logs that are returned when using the query, which are not limited by the selected time range.

</div><div><MimeTabs className={"openapi-tabs__mime"} schemaType={"response"}><TabItem label={"application/json"} value={"application/json"}><SchemaTabs className={"openapi-tabs__schema"}><TabItem label={"Schema"} value={"Schema"}><details style={{}} className={"openapi-markdown__details response"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-response"}><strong>Schema</strong></summary><div style={{"textAlign":"left","marginLeft":"1rem"}}></div><ul style={{"marginLeft":"1rem"}}><div style={{"marginTop":".5rem","marginBottom":".5rem","marginLeft":"1rem"}}>

object

</div></ul></details></TabItem></SchemaTabs></TabItem></MimeTabs></div></TabItem></ApiTabs></div></div>
